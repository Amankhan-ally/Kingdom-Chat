<html>
				<title></title>
				<head>
								<meta name="viewport" content="width=device-width, initial-scale=1.0">
								<link rel="stylesheet" href="webstylepc.css"></link>
								<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
					<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Lily+Script+One&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Lily+Script+One&family=Nunito:ital,wght@1,300&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Lily+Script+One&family=Nunito:ital,wght@1,300&family=Pangolin&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Averia+Sans+Libre:wght@300&family=Lily+Script+One&family=Nunito:ital,wght@1,300&family=Pangolin&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Rancho&effect=shadow-multiple" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Satisfy&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Grechen+Fuemen&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Grechen+Fuemen&family=Nerko+One&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Skranji:400,700" rel="stylesheet">


<!--<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">-->


<script src="https://www.gstatic.com/firebasejs/ui/6.0.1/firebase-ui-auth.js"></script>
<link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/6.0.1/firebase-ui-auth.css" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script src=
"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js">
    </script>
    
<script src="https://cdn.db-ip.com/js/dbip.js"   data-api-key="p6bcac47ae71f0285cb6343d9697e56e41a2cb92"></script>



<!--<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/0.9.4/angular-material.min.css">-->

<!--<script src="https://www.gstatic.com/firebasejs/9.6.4/firebase-firestore.js"></script>-->

<!-- React -->
<!--<script src="https://unpkg.com/react@17/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js" crossorigin></script>-->
  <!--<script src="react.js"></script>-->

<!--End-->

<!--<script src="app.js"></script>-->
				

								
								
				</head>
				<body id="bdy">
								
								<div class="options" id="Options">
													<div class="bmdinner">
																	<p class="Block" id="blockuser"><strong>Block User</strong></p>
																	<br><br>
																	<hr class="ohr">
																	<p class="Report" id="reportuser"><strong>Report User</strong></p>
													</div>
									</div>
									
									
									<div class="poptions" id="Poptions">
													<div class="bmdinner">
																	<p class="viewp" id="viewprofile"><strong>View Profile</strong></p>															
													</div>
									</div>


									<div class="Modal" id="Modal">
										<article class="mdname">Stickers<p class="cross" onclick="boxclose()">&times;</p></article>
										
										<hr>
										<div class="mdinner">
														
													<div class="cont-checkbox">
<!--<input class="chkbox" type="checkbox" id="anim1"/>-->
<label class="ilabl" for="anim1">
<img src="Stickers/Lenin/1.webp" class="animimg" id="stck1"/>
<span class="cover-checkbox"></span></label>
</div>

<div class="cont-checkbox">
<label class="ilabl" for="anim1">
	<img src="Stickers/11/10.webp" class="animimg" id="stck2"/>
	<span class="cover-checkbox"></span></label>
	</div>

	<div class="cont-checkbox">
		<label class="ilabl" for="anim1">
			<img src="Stickers/11/1.webp" class="animimg" id="stck3"/>
			<span class="cover-checkbox"></span></label>
			</div>

			<div class="cont-checkbox">
				<label class="ilabl" for="anim1">
					<img src="Stickers/11/2.webp" class="animimg" id="stck4"/>
					<span class="cover-checkbox"></span></label>
					</div>

					<div class="cont-checkbox">
						<label class="ilabl" for="anim1">
							<img src="Stickers/11/3.webp" class="animimg" id="stck5"/>
							<span class="cover-checkbox"></span></label>
							</div>

							<div class="cont-checkbox">
								<label class="ilabl" for="anim1">
									<img src="Stickers/11/4.webp" class="animimg" id="stck6"/>
									<span class="cover-checkbox"></span></label>
									</div>

									<div class="cont-checkbox">
										<label class="ilabl" for="anim1">
											<img src="Stickers/11/5.webp" class="animimg" id="stck7"/>
											<span class="cover-checkbox"></span></label>
											</div>

											<div class="cont-checkbox">
												<label class="ilabl" for="anim1">
													<img src="Stickers/11/6.webp" class="animimg" id="stck8"/>
													<span class="cover-checkbox"></span></label>
													</div>

													<div class="cont-checkbox">
														<label class="ilabl" for="anim1">
															<img src="Stickers/11/7.webp" class="animimg" id="stck9"/>
															<span class="cover-checkbox"></span></label>
															</div>

															<div class="cont-checkbox">
																<label class="ilabl" for="anim1">
																	<img src="Stickers/11/8.webp" class="animimg" id="stck10"/>
																	<span class="cover-checkbox"></span></label>
																	</div>

																	<div class="cont-checkbox">
																		<label class="ilabl" for="anim1">
																			<img src="Stickers/11/8.webp" class="animimg" id="stck11"/>
																			<span class="cover-checkbox"></span></label>
																			</div>

																			<div class="cont-checkbox">
																				<label class="ilabl" for="anim1">
																					<img src="Stickers/11/9.webp" class="animimg" id="stck12"/>
																					<span class="cover-checkbox"></span></label>
																					</div>

																					

</div>
</div>
									
								
														
		<div class="tab-body"> 
					<div class="tabcontent divactive hm" id="home">							
									
									<br>
									<br>				
									
							  	<br>
									<br>
									
									<br>
									<br>
									


									
									<!-- Modal -->
									
															
																	
										
									
									
									
									

								 <!-- /Modal -->

																		
		<!--<button id="reactbutton">React</button>-->
		
									
									<!--
									
								
													
<br>
<br>
<br>
<br>

<br>
<br>
<br>
<br> -->

									
												
												</div>
												
					<div class="tabcontent divactive snd" id="send">				
									<div class="box">
								<br>
								<br>
								<br>
								<br><br><br>
                
                <form>
                <!--<div class="inputBox">-->
                    <input type="text" name="email" required onkeyup="this.setAttribute('value', this.value);"  value="" placeholder="E-mail" id="lmail">
                  <!--<label>E-mail</label>-->
                  <!--</div>-->
                  
            <!--<div class="inputBox">-->
                        <input type="Password" name="text" required onkeyup="this.setAttribute('value', this.value);" value="" placeholder="Password" id="lpass">
                  <!--<label>Password</label>-->
                      <!--</div>-->
                      
                      <br><br><br>
                  <input type="submit" name="sign-in" value="Sign In" id="signIn" class="Signin">                 
                  <br><br>
                  <hr class="hr-text" data-content="or">
                  <br>
                  <input type="submit" name="sign-up" value="Sign Up" id="signupbtn" class="Signup" onclick="OpenSignUpTab()">
                </form>  
             </div> 
		
		
		
		
</div><!--tabcontent div Login tab-->

<div class="tabcontent divactive rm" id="rome">
				
				<div class="box">
								<br>
								<br>
								<br>
								<br><br><br><br>
								<img src="Cool Text - Kingdom Chat 403682292827480.gif" class="kclogo"/>
<!--<center><h1 class="wlcm">Welcome to Kingdom Chat</h1></center>-->
<center><h2 class="join">Create your account</h2></center>
                <form class="signupform">
             <!--<div class="inputBox">-->
                        <input type="text" name="text" required onkeyup="this.setAttribute('value', this.value);" value="" id="Usrname" placeholder="Username">
                  <!--<label>Username</label>-->
                      <!--</div>-->
                      
             <!--<div class="inputBox">-->
                    <input type="text" name="email" required onkeyup="this.setAttribute('value', this.value);"  value="" id="Email" placeholder="Email">
                 <!--<label>E-mail</label>-->
                  <!--</div>-->
                  
                <!--<div class="inputBox">-->
                        <input type="Password" name="text" required onkeyup="this.setAttribute('value', this.value);" value="" id="Passwd" placeholder="Password">
                  <!--<label>Password</label>-->
                      <!--</div>-->
                      
                      <!--<input type="checkbox" name="check-box" id="check-box">
                      <label class="terms">By Signing Up You agree to our Terms and Conditions and Privacy Policy</label>-->
                      
                      <br><br>
                      
                  <input type="submit" name="sign-up" value="Sign Up" id="signup" class="Signup">
                  
                  <br><br>
                  <hr class="hr-text" data-content="or">
                  <br>
                  <input type="submit" name="sign-in" value="Sign In" id="signin" class="Signin" onclick="OpenSignInTab()">
                  <br>
  <div id="firebaseui-auth-container"></div>

                </form>  
             </div>
             
             
              
				
				<!--<form class="modal-content">
    <div class="container">
      <h1>Sign Up</h1>
      <p>Please fill in this form to create an account.</p>
      <hr>
      <label for="email"><b>Email</b></label>
      <input type="text" placeholder="Enter Email" name="email" required>

      <label for="psw"><b>Password</b></label>
      <input type="password" placeholder="Enter Password" name="psw" required>

      <label for="psw-repeat"><b>Repeat Password</b></label>
      <input type="password" placeholder="Repeat Password" name="psw-repeat" required>
      
      <label>
        <input type="checkbox" checked="checked" name="remember" style="margin-bottom:15px"> Remember me
      </label>

      <p>By creating an account you agree to our <a href="#" style="color:dodgerblue">Terms & Privacy</a>.</p>

      <div class="clearfix">
        <button type="button" onclick="document.getElementById('id01').style.display='none'" class="cancelbtn">Cancel</button>
        <button type="submit" class="signupbtn" id="signup">Sign Up</button>
      </div>
    </div>
  </form>
</div>-->

				
<!--tab div signup tab-->
	
								
</div><!--end original-->

<div class="tabcontent divactive epro" id="edtp">
				
				</div>


<div class="tabcontent divactive dm" id="dome">
			      <br>
									<br>				
									
									<br>
									<br>
									
									<br>
									<br>
												
</div>

<div class="tabcontent divactive ml" id="chat">
								 <br>
									<br>				
									
									<br>
									<br>
																										
				</div>
				
<div class="tabcontent divactive em" id="empv">
				<br><br>
				<br><br>
				
				</div>				

<div class="tabcontent divactive vp" id="vprof">
				
				<img class="vpbackwall" id="vpbking">
				<div class="vpbwall-img">
       </div>

				
			<div class="row">
   <div class="small-12 medium-2 large-2 columns">
     <div class="vpcircle">
       <img class="vpprofile-pic vpimg" id="vpfp">

     </div>
     <div class="p-image">
     </div>
  </div>
</div>
				<br>
				<input type="user" id="Uvalvprof" class="uvaluevprof"></input>		
				<br>
				
				<div class="prof-box">
								<br>
								<br>
					<div class="viewabout" id="About"></div>
					
					<!--<div class="abtvp" style="font-family: 'Roboto';	color: white; margin-top: 0rem; margin-left: 1rem; height: auto; padding: 6px; background: transparent; border: none; position: relative; top: 1rem; left: rem; outline: none;	 font-size: 1.1em; text-align: center; transform: translate(1.4rem, 0%); word-break: break-all; clear: both; width: 20rem; max-width: 40rem; resize: none; background: green; display: flex;" id="About" readonly></div>-->
<!--<div class="vi" id="Abo" style="background: green;">div</div>-->						
<button class="mail3d btnmail" id="mail" onclick="props()"><i class="fa fa-envelope" style="font-size:12px; color: white;"></i>&nbsp;&nbsp;<strong>Message</strong></button>		

<div id="vpione" class="vpinfoone"></div>
<br>
<div id="vpitwo" class="vpinfotwo"></div>
<br>
<div id="vpithree" class="vpinfothree"></div>
								
				</div>
				<br><br><br>
				<!--<button class="mail3d btnmail" id="mail" onclick="props()"><!--<img src="email.png" style="height: 60px; width: 60px; background: none;"></img><strong>Mail</strong></button>-->
				
		
				
  </div>
				
	
<div class="tabcontent divactive inboxview ibv" id="viewinbox">
				
				<br><br>
				<br>
				
				
				
</div>
			


<div class="tabcontent divactive abtsec pm" id="prom">
				
<!-- https://t3.ftcdn.net/jpg/03/46/83/96/360_F_346839683_6nAPzbhpSkIpb8pmAwufkC7c5eD7wYws.jpg-->

<div class="edtpop" id="edtop">
				<div class="whdiv">Edit Profile</div>
				<div class="contdiv">
							<label class="form-label">Username</label>
							<br>
							<input type="text" class="form-control" id="puser">
							<br>
							<label class="form-label">Job</label>
							<br>
							<input type="text" class="form-control" id="pjob">
							<br>
							<label class="form-label">Address</label>
							<br>
							<input type="text" class="form-control" id="paddr">
							<br>
							<label class="form-label">Relationship Status</label>
							<br>
							<input type="text" class="form-control" id="prelation">
							<br>
							<label class="form-label">About</label>
							<br>
						<textarea class="form-control" id="pabout" placeholder="Write something about yourself"></textarea>												
				</div>
				<div class="botdiv">
								<button class="form-cancelbtn" id="pcancel">Cancel</button>
								<button class="form-savebtn" id="psave">Save</button>
				</div>
</div>


<div class="cogtab" id="sett">
				<div class="upper">Settings</div>
				<div class="lower">
							<label class="sett-label">Username</label>
							<br>
							<input type="text" class="sett-control" id="coguval" readonly/>
							<br>
							<label class="sett-label">E-mail</label>
							<br>
							<input type="text" class="sett-control" id="Eval" readonly/>
							<br>
							<label class="sett-label">User Id</label>
							<br>
							<input type="text" class="sett-control" id="Uival" readonly/>
							<br>
							<label class="sett-label">Country</label>
							<br>
							<input type="text" class="sett-control" id="Ucountval" readonly/>						
				</div>
				<div class="under">
								<button class="sett-cancelbtn" id="scancel">Cancel</button>
								<button class="sett-logoutbtn" id="slogout">Logout</button>
				</div>
</div>

<div class="rim">
<img class="backwall" id="bkimg">
				<div class="bwallimg">												
       			<i class="fa fa-camera bupload" id="camera" style="height: 3rem; width: 2rem; color: green;"></i>
        <input class="upwall" type="File" accept="image/*" style="z-index: 999999;"/>
     </div>
</div>   
       <!--<i class="fa fa-camera upload-backwall" id="backcam" style="height: 3rem; width: 2rem; color: green;"></i>
       <input class="up-bkwall" type="File" accept="image/*" style="z-index: 999999;"/>
       </div>-->
     

				
			<div class="row">
   <div class="small-12 medium-2 large-2 columns">
     <div class="circle">
       <img class="profile-pic pimg" id="pfp">
     </div>
     
     <div class="p-image">
       <i class="fa fa-camera upload-button" id="camera"></i>
        <input class="file-upload" type="File" accept="image/*" style="z-index: 999999;"/>
     </div>
  </div>
</div>


				
								<!--<div class="imgdiv">
								<img class="me" src="1634980325678.png">
				</div>-->
				<br>
				
<strong><input type="user" id="Uval" class="uvalue"></strong></input>

				
				<div class="prof-box">
								
								<div class="bio" id="Bio"></div>			
													
								<button class="edit3d edtbtn" id="edit"><span class="fa fa-pencil io" style="font-size:12px; color: white;"></span>&nbsp;&nbsp;<strong>Edit Profile</strong></button>
								
								<button class="3dinbox ib3d ibbtn" onclick="OpenTab(event, 'viewinbox'), ibprops()" id="inbox"><span class="fa fa-envelope io" style="font-size:12px; color: white;"></span>&nbsp;&nbsp;<strong>Inbox</strong></button>
								
								<button class="facog"><i class="fa fa-cog" style="font-size:15px; color: white;" id="cog"></i></button>
								
							
	<div id="ione" class="infoone" readonly></div>
	<br>
	<div id="itwo" class="infotwo"></div>
	<br>
	<div id="ithree" class="infothree"></div>			
				
								<!--<strong><label class="emailid">Email-Id :</strong></label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="user" id="Eval" class="evalue" readonly/>
								<br>
								
		<strong><label class="userid">User Id :</strong></label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="user" id="Uival" class="uivalue" readonly/>
		<br>
	
	<strong><label class="country">Country :</strong></label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="user" id="Ucountval" class="ucountvalue" readonly/>
<br>
	
<strong><label class="userVerified">Verified :</strong></label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="user" id="Uverified" class="uverival" readonly/>
		
								
				</div>
				<br>


<button class="Logout lg3d btnlg"><span class="fa fa-power-off" style="font-size:19px; color: white;"></span>&nbsp;&nbsp;<strong>Logout</strong></button>-->
				
				
		
				
  </div>
</div> 


			




				<nav class="firstnav" id="fnav">									
								<!--<a href="#" class="navlinkfnav2"><i class="fa fa-comments buttons" style="font-size:25px; color: black;" onclick="openEvent(event, 'home'), openchat()" id="chatlink"></a></i>-->
								
								
<a href="#" class="navlinkfnav2"><img src="chat (1).png"	 style="height: 40px; width: 40px; background: rgb(227, 237, 247); transform: translateX(0px); bordr-radius: 10px; background: none;"	onclick="openEvent(event, 'home'), openchat()" id="chatlink"></a></img>		
								
								
								
<p class="kctitle" id="kctitle" style="color:whitesmoke;">Kingdom Chat</p>

										<!--<a href="#" class="navlinkfnav1"><i class="fa fa-user-circle buttons" style="font-size:25px; color: black;" onclick="OpenTab(event, 'prom'), openuser()" id="profilelink"></a></i>-->
										
			<a href="#" class="navlinkfnav1"><img src="user.png"	 style="height: 40px; width: 35px; border-radius: 50%; background: none;"	onclick="openEvent(event, 'prom'), openuser()" id="profilelink"></a></img>										
				</nav>
				
				
	<nav class="inboxnav" id="inbnav">									
								<a href="#" class="navlinkfnav3"><i      class="fa fa-arrow-left" style="font-size:20px; color: white;" onclick="openEvent(event, 'prom')" id="in"></a></i>
								
								<p class="inbxtitle" id="inbxtitle" style="color:Black;"><strong>Inbox</strong></p>
								
								</nav>			
				
				
				
				<nav class="viewchatnav" id="vcnav">									
								<a href="#" class="navlinkfnav3"><i      class="fa fa-arrow-left" style="font-size:20px; color: white;" onclick="openEvent(event, 'viewinbox')" id="ext"></a></i></nav>
				
			<nav class="viewprofnav" id="vpnav">								
								<a href="#" class="vpfar"><i      class="fa fa-arrow-left fal" style="font-size:20px; color: black;" onclick="openEvent(event, 'home')" id="bb"></a></i></nav>
								
								<nav class="msgviewnav" id="mvnav">								
								<a href="#" class="navlinkfnav3"><i      class="fa fa-arrow-left fal" style="font-size:20px; color: black;" onclick="openEvent(event, 'home')" id="mvn"></a></i></nav>
								
						<nav class="topnav" id="topbar">
										
				<button class="btn3d btn-default" onclick="OpenTab(event, 'home'), bprops()"id="gc"><strong>Global Chat</strong></button>
				
				<!--<button class="btn" id="gc" onclick="openTab(event, 'home'), showbottombar(), cbrhide()">Global Chat</button>-->
				
				<!--<button class="btn" onclick="openTab(event, 'dome'), hidebottombar(), cbrshow()">Local Chat</button>-->
				
				<button class="btn3d btn-default" onclick="OpenTab(event, 'dome'), hidebottombar(), cbrshow()"><strong>Local Chat</strong></button>
				
				<!--<button class="btn" onclick="openTab(event, 'prom'), hidebottombar(), cbrhide()">Profile</button>-->
				</nav>
				
				
										
										
										
									<!--	<a href="#" class="navlink1"><i class="fa fa-comments btn" style="font-size:25px;" onclick="openTab(event, 'home'), showbottombar(), cbrhide()"></a></i>
												Kingdom Chat
										<a href="#" class="navlink1"><i class="fa fa-user-circle btn" style="font-size:25px;" onclick="openTab(event, 'prom'), hidebottombar(), cbrhide()"></a></i>
										
										<a href="#" class="navlink1"><i class="fa fa-heart-o btn" style="font-size:25px;" onclick="openTab(event, 'dome'), hidebottombar(), cbrshow()"></a></i></nav>-->
										
<!--Add active to any element to make it active-->
								
	<button id="myBtn" title="Go to top">Top</button>
	
	
	
											
												
								
								
								<nav class="navbar header" id="header">
<!--<i class="fa fa-yelp" id="animchoose" style="font-size:30px;" onclick="openAnimModal()"></i>-->
<button class="manim" id="animchoose"><img src="happy.png" style="height: 30px; width: 30px;"onclick="openAnimModal()"></img></button>

<!--<i class="fa fa-list-ol" id="" style="font-size:20px;" onclick="openfiltermodal()"></i>-->
												
					<textarea class="msginput" id="msginput" type="text" placeholder="Click here to chat" onclick="scroll();" onfocus="scroll()"></textarea>
					&nbsp;&nbsp;
												<!--<i class="fa fa-send msgsend fasend" id="msgsend" style="font-size:30px;"></i>-->
												<button class="msgsend fasend" id="msgsend"><img src="send.png" style="height: 30px; width: 30px;"></img></button>
												</nav>
												
												
					<nav class="cnavbar cbr" id="cbar">
												
					<textarea class="cmsginput" id="cmsginput" type="text" placeholder="Enter your message Local"></textarea>
					&nbsp;&nbsp;
												<!--<i class="fa fa-send csendmsg" id="cmsgsend" style="font-size:30px;"></i>-->
												
	<button class="cmsgsend facsend" id="cmsgsend"><img src="send.png" style="height: 30px; width: 30px;"></img></button>						
												
												</nav>
												
												
					<nav class="thirdnavbar tbr" id="tbar">
												
					<textarea class="tmsginput" id="tmsginput" type="text" placeholder="Enter your message"></textarea>
					&nbsp;&nbsp;
											<!--	<i class="fa fa-send tsendmsg" id="tmsgsend" style="font-size:30px;"></i>-->
											
<button class="tmsgsend fatsend" id="tmsgsend">
				<img src="send.png" style="height: 30px; width: 30px;"></img>
</button>		
																						
											</nav>
											
											<nav class="inavbar ibr" id="ibar">
												
					<textarea class="imsginput" id="imsginput" type="text" placeholder="Enter your message Loc"></textarea>
					&nbsp;&nbsp;
												<!--<i class="fa fa-send csendmsg" id="cmsgsend" style="font-size:30px;"></i>-->
												
	<button class="imsgsend iasend" id="imsgsend"><img src="send.png" style="height: 30px; width: 30px;"></img></button>						
												
												</nav>
												
						<!-- These are bottom Nav links -->
						
<!--<a href="#" class="navlink"><i class="fa fa-envelope-open-o active btn" style="font-size:30px;" onclick="openTab(event, 'home')"></a></i>

<!--<a href="#" class="navlink"><i class="fa fa-send-o btn" id="send" style="font-size:30px;" onclick="openTab(event, 'send')"></a></i>-->

<!--<a href="#" class="navlink"><i class="fa fa-plus-circle btn sgnup" style="font-size:30px;" onclick="openTab(event, 'rome')"></a></i>-->

<!--<a href="#" class="navlink"><i class="fa fa-heart-o btn" style="font-size:30px;" onclick="openTab(event, 'dome')"></a></i>-->

<!--<a href="#" class="navlink"><i class="fa fa-user-circle-o btn" style="font-size:30px;" onclick="openTab(event, 'prom')"></a></i></nav>-->

       							<!-- End Nav links -->


<!--<a href="#" class="navlink"><img class="heart" src="r/bdl.png"></a>
<a href="#" class="navlink"><img src="adobe_air.png"></a>
			<a href="#" class="navlink"><img src="portfolio.png"></a>
			<a href="#" class="navlink"><img src="portfolio.png"></a>
			<a href="#" class="navlink"><img src="portfolio.png"></a>-->

				

			
				<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.4/firebase-app.js";
  import { getAnalytics, setUserProperties} from "https://www.gstatic.com/firebasejs/9.6.4/firebase-analytics.js";
  
/*import { Injectable } from '/@angular/core';
import { Router } from '/@angular/router';*/

/*import React, { useState, useEffect, useCallback } from '/react';
import { GiftedChat } from '/react-native-gifted-chat';
import AsyncStorage from '/@react-native-async-storage/async-storage';*/

//import { useRef, useState } from '';

/*import firebase from '/firebase/compat/app';
import * as firebaseui from '/firebaseui'
import '/firebaseui/dist/firebaseui.css'*/
  

import { getStorage, ref, uploadString, getDownloadURL } from "https://www.gstatic.com/firebasejs/9.6.4/firebase-storage.js";
 
import { getFirestore, doc, setDoc, getDoc, collection, getDocs, onSnapshot, deleteDoc, FieldValue, orderBy, Timestamp, serverTimestamp, query, addDoc, limit, where, updateDoc} from 
"https://www.gstatic.com/firebasejs/9.6.4/firebase-firestore.js";

import { getAuth, createUserWithEmailAndPassword, onAuthStateChanged, signInWithEmailAndPassword, signInWithPopup, GoogleAuthProvider, signInAnonymously, updateProfile} from "https://www.gstatic.com/firebasejs/9.6.4/firebase-auth.js";

  
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries
  
   /* const secondAppConfig = {
    apiKey: "AIzaSyAVWWMkLRAC79kvrx5PpvdkMtgMKmbc1hs",
    authDomain: "store-4a0c9.firebaseapp.com",
    databaseURL: "https://store-4a0c9-default-rtdb.firebaseio.com",
    projectId: "store-4a0c9",
    storageBucket: "store-4a0c9.appspot.com",
    messagingSenderId: "679682903095",
    appId: "1:679682903095:web:6c0a555b55dd660e5683b2"
  };*/

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyBWtkmw2Q312v3B0xI0wbFc3Z4oL2O5JC4",
    authDomain: "realtimestore-5c74f.firebaseapp.com",
    projectId: "realtimestore-5c74f",
    storageBucket: "realtimestore-5c74f.appspot.com",
    messagingSenderId: "463941060902",
    appId: "1:463941060902:web:52819445b419f1f2a659e7",
    measurementId: "G-BPPC3Q5L5B"
  };
  
  
  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
		const db = getFirestore(app);
  const auth = getAuth(app);
  const Curuser = auth.currentUser;
  
  const storage = getStorage();


  
 /* const sapp = initializeApp(secondAppConfig, "store");
  const analytics = getAnalytics(sapp);
		const db = getFirestore(sapp);
  const auth = getAuth(app);*/
  //const Curuser = auth.currentUser;


var signup = document.getElementById("signup");

signup.addEventListener('click', (e) =>{
e.preventDefault()
var password = document.getElementById("Passwd").value;
var email = document.getElementById("Email").value;
var username = document.getElementById("Usrname").value;





createUserWithEmailAndPassword(auth, email, password).then((userCredential) => {
    // Signed in 
    const user = userCredential.user;
    //console.log(user.uid);
    
    const storageRef = ref(storage, "userpic/"+user.uid+".png");
	const bgwallRef = ref(storage, "userpic/"+user.uid+"backwall.png");   
    const defaultpic = 'https://t3.ftcdn.net/jpg/03/46/83/96/360_F_346839683_6nAPzbhpSkIpb8pmAwufkC7c5eD7wYws.jpg';
	const backpic = 'https://t3.ftcdn.net/jpg/03/46/83/96/360_F_346839683_6nAPzbhpSkIpb8pmAwufkC7c5eD7wYws.jpg';

    
uploadString(storageRef, defaultpic).then((snapshot) => {
  console.log('Uploaded a data_url string!');
  alert("updated");
});

uploadString(bgwallRef, defaultpic).then((snapshot) => {
  console.log('Uploaded a data_url string!');
  alert("updated");
});

    
    setDoc(doc(db, 'Userscoll',user.uid),{
    PhotoUrl: "https://t3.ftcdn.net/jpg/03/46/83/96/360_F_346839683_6nAPzbhpSkIpb8pmAwufkC7c5eD7wYws.jpg",
 Username: username,
	BackWall: "https://t3.ftcdn.net/jpg/03/46/83/96/360_F_346839683_6nAPzbhpSkIpb8pmAwufkC7c5eD7wYws.jpg",
	About: "",
	Work: "",
	Address: "",
	Love: ""  
    });
    
    
    
  updateProfile(auth.currentUser, {
  displayName: username
})
    setTimeout(Refresh, 5000);
  })
  .catch((error) => {
    const errorCode = error.code;
    const errorMessage = error.message;
    console.log(errorMessage);
    
  });
})

var signin = document.getElementById("signIn");

signin.addEventListener('click', (e) =>{
e.preventDefault()
var password = document.getElementById("lpass").value;
var email = document.getElementById("lmail").value;
/*var username = document.getElementById("Usrname").value;*/

signInWithEmailAndPassword(auth, email, password)
  .then((userCredential) => {
    // Signed in 
    const user = userCredential.user;
    //alert(user.uid);
    setTimeout(Refresh, 1000);
    // ...
  })
  .catch((error) => {
    const errorCode = error.code;
    const errorMessage = error.message;
  });
})




async function getCountry(){
$.ajax({
  url: 'https://get.geojs.io/v1/ip/geo.js',
  success: function (data){
var get = (data.match(/"country":"([^"]+)"/)[1])
document.getElementById("Ucountval").value=get;
localStorage.setItem('KCCountry',get);
}  
})
}

onAuthStateChanged(auth, (user) => {
  if (user) {
  
  localStorage.setItem("ibid", user.uid);
  
getDoc(doc(db, 'Userscoll/'+ user.uid)).then(docSnap => 
{  
   var url = docSnap.data().PhotoUrl; 
   var Bio = docSnap.data().About;
   var bkwall = docSnap.data().BackWall;
   var work = docSnap.data().Work;
   var addr = docSnap.data().Address;
   var love = docSnap.data().Love;
   document.getElementById("ione").innerHTML=work; 
   document.getElementById("itwo").innerHTML=addr;
   document.getElementById("ithree").innerHTML=love;    
   localStorage.setItem('KCuserdp', url);
   document.getElementById("bkimg").src = bkwall;
   document.getElementById("Bio").innerHTML = Bio;
   
});


    // User is signed in, see docs for a list of available properties
    // https://firebase.google.com/docs/reference/js/firebase.User
    
    OpenTab(event, 'rome');
    /*updateProfile(auth.currentUser, {
  photoURL: "Egypt.gif"
});*/
    const uid = user.uid;
    const email = user.email;
    const uname = user.displayName;    
    const profile = localStorage.getItem('KCuserdp');
    const up = user.photoURL;
   document.getElementById("Uival").value=uid;
   document.getElementById("Uval").value=uname;
   document.getElementById("coguval").value=uname;
   document.getElementById("Eval").value=email;   
   sessionStorage.setItem('myuid', uid);
   document.getElementById("pfp").src=profile;
    scroll();
    showtopnav();
    //hidebottombar();
    //cbrhide();
    // ...
  } else {
    // User is signed out
    OpenTab(event, 'rome');
    hidebottombar();
    cbrhide();
    hidetopnav();
    
  }
});

/*var m = 'LB2';
var t = '9z1';
var j = m+t;
var rev = m.split('').reverse().join('');
alert(j);

var m1 = '9z1';
var t1 = 'LB2';
var j1 = m1+t1;
var r = t1+m1;
console.log(r);*/


  /* update */

/*if(user){
updateProfile(auth.currentUser, {
  displayName: "Receiver"
}).then(() => {
  // Profile updated!
  alert("profile updated");
  }).catch((error) => {
  // An error occurred
  console.log(error);
});
}*/

  const querySnapshot = getDocs(collection(db, "Users"));
  
const unsub = onSnapshot(collection(db, "Users"));

var uid = document.getElementById("Uival").value;

document.getElementById("msgsend").addEventListener("click", function post(){
	
 const date = new Date();
 var day = date.getDate();
 var month = date.toLocaleString("default", { month: 'short'});
 var year = date.getFullYear();
 
 var h = date.getHours();
 var m = date.getMinutes();
 var s = date.getSeconds();
 var k = Math.random();
 var key = Math.random();
 var aone = document.getElementById("anim1");
 var atwo = document.getElementById("anim2");
/*var fakeid = auth.currentUser.uid.slice(5);*/
 
 var verified = "Yes";
 var unverified = "No";
 
 var myuid = document.getElementById("Uival").value;
 
 var uname = document.getElementById("Uval").value; //name
 let userloc = localStorage.getItem('KCCountry');

let photourl = getDoc(doc(db, 'Userscoll/'+ myuid)).then(docSnap => 
{  
  var url = docSnap.data().PhotoUrl; 
  localStorage.setItem('purl', url);
});



let msg = document. getElementById("msginput").value;

if(msg=="shit")
{
	$("#msginput").attr('readonly', 'readonly');
	$('#msginput').attr('placeholder','you have been banned');
	document.getElementById("msginput").value="";
	alert("you have been banned");
	document.getElementById("msgsend").disabled = true;

	setDoc(doc(db, 'Blocked',uname+k),{
		User: myuid  				
  });
	
}

else{
setDoc(doc(db, 'Users',uname+k),{
  				Written_By: uname,
  				Wrote: msg,
  			Time: day+" "+month+" "+year+" "+h+":"+m+" "+userloc,				
  				Uid: myuid,
  				PhotoUrl: localStorage.getItem('KCuserdp')
  });
}
  /* paste backup2.js here */

/*if (aone.checked == false && atwo.checked == false) 
{				
  setDoc(doc(db, 'Users',uname+key),{
  				Written_By: uname,
  				Wrote: msg,
					Time: day+" "+month+" "+year+" "+h+":"+m+" "+userloc,
  				Uid: myuid,
  				PhotoUrl: localStorage.getItem('KCuserdp')
  });
}
  
else if (aone.checked == true) 
{
		setDoc(doc(db, 'Users',uname+key),{
  				Written_By: uname,
  				Wrote: msg,
					Time: day+" "+month+" "+year+" "+h+":"+m+" "+userloc,
  				Uid: myuid,
  				Anim: "one",
  				PhotoUrl: localStorage.getItem('KCuserdp')
  });				
}

else if (atwo.checked == true) 
{
		setDoc(doc(db, 'Users',uname+key),{
  				Written_By: uname,
  				Wrote: msg,
					Time: day+" "+month+" "+year+" "+h+":"+m+" "+userloc,
  				Uid: myuid,
  				Anim: "two",
  				PhotoUrl: localStorage.getItem('KCuserdp')
  });			
}*/

/*var b = document.getElementById("enable");
var to = document.getElementById("to").value;
var from = document.getElementById("Uival").value;

if(b.checked==true) 
{
				setDoc(doc(db, 'Hidden',uname+key),{
  				Userid: to,
  				From: from
  });
}*/   
})








$("#stck1").click(function()
{
 const date = new Date();
 var day = date.getDate();
 var month = date.toLocaleString("default", { month: 'short'});
 var year = date.getFullYear();
 
 var h = date.getHours();
 var m = date.getMinutes();
 var s = date.getSeconds();
 var k = Math.random();
 var key = Math.random();
 var myuid = document.getElementById("Uival").value;
 var uname = document.getElementById("Uval").value; //name

let photourl = getDoc(doc(db, 'Userscoll/'+ myuid)).then(docSnap => 
{  
  var url = docSnap.data().PhotoUrl; 
  localStorage.setItem('purl', url);
});


let userloc = localStorage.getItem('KCCountry');

setDoc(doc(db, 'Users',uname+k),{
  	Written_By: uname,
  	Wrote: "<center><img class='imcls' src='Stickers/Lenin/1.webp' height='60px' width='60px'/></center>",
  	Time: day+" "+month+" "+year+" "+h+":"+m+" "+userloc,				
  	Uid: myuid,
  	PhotoUrl: localStorage.getItem('KCuserdp')
});
var modal = document.getElementById("Modal");
modal.classList.toggle('showmodal');
})

$("#stck2").click(function()
{
 const date = new Date();
 var day = date.getDate();
 var month = date.toLocaleString("default", { month: 'short'});
 var year = date.getFullYear();
 
 var h = date.getHours();
 var m = date.getMinutes();
 var s = date.getSeconds();
 var k = Math.random();
 var key = Math.random();
 var myuid = document.getElementById("Uival").value;
 var uname = document.getElementById("Uval").value; //name

let photourl = getDoc(doc(db, 'Userscoll/'+ myuid)).then(docSnap => 
{  
  var url = docSnap.data().PhotoUrl; 
  localStorage.setItem('purl', url);
});


let userloc = localStorage.getItem('KCCountry');

setDoc(doc(db, 'Users',uname+k),{
  	Written_By: uname,
  	Wrote: "<center><img class='imcls' src='Stickers/11/10.webp' height='60px' width='60px'/></center>",
  	Time: day+" "+month+" "+year+" "+h+":"+m+" "+userloc,				
  	Uid: myuid,
  	PhotoUrl: localStorage.getItem('KCuserdp')
});
var modal = document.getElementById("Modal");
modal.classList.toggle('showmodal');
})

$("#stck3").click(function()
{
 const date = new Date();
 var day = date.getDate();
 var month = date.toLocaleString("default", { month: 'short'});
 var year = date.getFullYear();
 
 var h = date.getHours();
 var m = date.getMinutes();
 var s = date.getSeconds();
 var k = Math.random();
 var key = Math.random();
 var myuid = document.getElementById("Uival").value;
 var uname = document.getElementById("Uval").value; //name


let userloc = localStorage.getItem('KCCountry');

setDoc(doc(db, 'Users',uname+k),{
  	Written_By: uname,
  	Wrote: "<center><img class='imcls' src='Stickers/11/1.webp' height='60px' width='60px'/></center>",
  	Time: day+" "+month+" "+year+" "+h+":"+m+" "+userloc,				
  	Uid: myuid,
  	PhotoUrl: localStorage.getItem('KCuserdp')
});
var modal = document.getElementById("Modal");
modal.classList.toggle('showmodal');
})

$("#stck4").click(function()
{
 const date = new Date();
 var day = date.getDate();
 var month = date.toLocaleString("default", { month: 'short'});
 var year = date.getFullYear();
 
 var h = date.getHours();
 var m = date.getMinutes();
 var s = date.getSeconds();
 var k = Math.random();
 var key = Math.random();
 var myuid = document.getElementById("Uival").value;
 var uname = document.getElementById("Uval").value; //name


let userloc = localStorage.getItem('KCCountry');

setDoc(doc(db, 'Users',uname+k),{
  	Written_By: uname,
  	Wrote: "<center><img class='imcls' src='Stickers/11/2.webp' height='60px' width='60px'/></center>",
  	Time: day+" "+month+" "+year+" "+h+":"+m+" "+userloc,				
  	Uid: myuid,
  	PhotoUrl: localStorage.getItem('KCuserdp')
});
var modal = document.getElementById("Modal");
modal.classList.toggle('showmodal');
})

$("#stck5").click(function()
{
 const date = new Date();
 var day = date.getDate();
 var month = date.toLocaleString("default", { month: 'short'});
 var year = date.getFullYear();
 
 var h = date.getHours();
 var m = date.getMinutes();
 var s = date.getSeconds();
 var k = Math.random();
 var key = Math.random();
 var myuid = document.getElementById("Uival").value;
 var uname = document.getElementById("Uval").value; //name


let userloc = localStorage.getItem('KCCountry');

setDoc(doc(db, 'Users',uname+k),{
  	Written_By: uname,
  	Wrote: "<center><img class='imcls' src='Stickers/11/3.webp' height='60px' width='60px'/></center>",
  	Time: day+" "+month+" "+year+" "+h+":"+m+" "+userloc,				
  	Uid: myuid,
  	PhotoUrl: localStorage.getItem('KCuserdp')
});
var modal = document.getElementById("Modal");
modal.classList.toggle('showmodal');
})

$("#stck6").click(function()
{
 const date = new Date();
 var day = date.getDate();
 var month = date.toLocaleString("default", { month: 'short'});
 var year = date.getFullYear();
 
 var h = date.getHours();
 var m = date.getMinutes();
 var s = date.getSeconds();
 var k = Math.random();
 var key = Math.random();
 var myuid = document.getElementById("Uival").value;
 var uname = document.getElementById("Uval").value; //name


let userloc = localStorage.getItem('KCCountry');

setDoc(doc(db, 'Users',uname+k),{
  	Written_By: uname,
  	Wrote: "<center><img class='imcls' src='Stickers/11/3.webp' height='60px' width='60px'/></center>",
  	Time: day+" "+month+" "+year+" "+h+":"+m+" "+userloc,				
  	Uid: myuid,
  	PhotoUrl: localStorage.getItem('KCuserdp')
});
var modal = document.getElementById("Modal");
modal.classList.toggle('showmodal');
})

$("#stck7").click(function()
{
 const date = new Date();
 var day = date.getDate();
 var month = date.toLocaleString("default", { month: 'short'});
 var year = date.getFullYear();
 
 var h = date.getHours();
 var m = date.getMinutes();
 var s = date.getSeconds();
 var k = Math.random();
 var key = Math.random();
 var myuid = document.getElementById("Uival").value;
 var uname = document.getElementById("Uval").value; //name


let userloc = localStorage.getItem('KCCountry');

setDoc(doc(db, 'Users',uname+k),{
  	Written_By: uname,
  	Wrote: "<center><img class='imcls' src='Stickers/11/4.webp' height='60px' width='60px'/></center>",
  	Time: day+" "+month+" "+year+" "+h+":"+m+" "+userloc,				
  	Uid: myuid,
  	PhotoUrl: localStorage.getItem('KCuserdp')
});
var modal = document.getElementById("Modal");
modal.classList.toggle('showmodal');
})

$("#stck8").click(function()
{
 const date = new Date();
 var day = date.getDate();
 var month = date.toLocaleString("default", { month: 'short'});
 var year = date.getFullYear();
 
 var h = date.getHours();
 var m = date.getMinutes();
 var s = date.getSeconds();
 var k = Math.random();
 var key = Math.random();
 var myuid = document.getElementById("Uival").value;
 var uname = document.getElementById("Uval").value; //name


let userloc = localStorage.getItem('KCCountry');

setDoc(doc(db, 'Users',uname+k),{
  	Written_By: uname,
  	Wrote: "<center><img class='imcls' src='Stickers/11/5.webp' height='60px' width='60px'/></center>",
  	Time: day+" "+month+" "+year+" "+h+":"+m+" "+userloc,				
  	Uid: myuid,
  	PhotoUrl: localStorage.getItem('KCuserdp')
});
var modal = document.getElementById("Modal");
modal.classList.toggle('showmodal');
})

$("#stck9").click(function()
{
 const date = new Date();
 var day = date.getDate();
 var month = date.toLocaleString("default", { month: 'short'});
 var year = date.getFullYear();
 
 var h = date.getHours();
 var m = date.getMinutes();
 var s = date.getSeconds();
 var k = Math.random();
 var key = Math.random();
 var myuid = document.getElementById("Uival").value;
 var uname = document.getElementById("Uval").value; //name


let userloc = localStorage.getItem('KCCountry');

setDoc(doc(db, 'Users',uname+k),{
  	Written_By: uname,
  	Wrote: "<center><img class='imcls' src='Stickers/11/6.webp' height='60px' width='60px'/></center>",
  	Time: day+" "+month+" "+year+" "+h+":"+m+" "+userloc,				
  	Uid: myuid,
  	PhotoUrl: localStorage.getItem('KCuserdp')
});
var modal = document.getElementById("Modal");
modal.classList.toggle('showmodal');
})

$("#stck10").click(function()
{
 const date = new Date();
 var day = date.getDate();
 var month = date.toLocaleString("default", { month: 'short'});
 var year = date.getFullYear();
 
 var h = date.getHours();
 var m = date.getMinutes();
 var s = date.getSeconds();
 var k = Math.random();
 var key = Math.random();
 var myuid = document.getElementById("Uival").value;
 var uname = document.getElementById("Uval").value; //name


let userloc = localStorage.getItem('KCCountry');

setDoc(doc(db, 'Users',uname+k),{
  	Written_By: uname,
  	Wrote: "<center><img class='imcls' src='Stickers/11/7.webp' height='60px' width='60px'/></center>",
  	Time: day+" "+month+" "+year+" "+h+":"+m+" "+userloc,				
  	Uid: myuid,
  	PhotoUrl: localStorage.getItem('KCuserdp')
});
var modal = document.getElementById("Modal");
modal.classList.toggle('showmodal');
})

$("#stck11").click(function()
{
 const date = new Date();
 var day = date.getDate();
 var month = date.toLocaleString("default", { month: 'short'});
 var year = date.getFullYear();
 
 var h = date.getHours();
 var m = date.getMinutes();
 var s = date.getSeconds();
 var k = Math.random();
 var key = Math.random();
 var myuid = document.getElementById("Uival").value;
 var uname = document.getElementById("Uval").value; //name


let userloc = localStorage.getItem('KCCountry');

setDoc(doc(db, 'Users',uname+k),{
  	Written_By: uname,
  	Wrote: "<center><img class='imcls' src='Stickers/11/8.webp' height='60px' width='60px'/></center>",
  	Time: day+" "+month+" "+year+" "+h+":"+m+" "+userloc,				
  	Uid: myuid,
  	PhotoUrl: localStorage.getItem('KCuserdp')
});
var modal = document.getElementById("Modal");
modal.classList.toggle('showmodal');
})

$("#stck12").click(function()
{
 const date = new Date();
 var day = date.getDate();
 var month = date.toLocaleString("default", { month: 'short'});
 var year = date.getFullYear();
 
 var h = date.getHours();
 var m = date.getMinutes();
 var s = date.getSeconds();
 var k = Math.random();
 var key = Math.random();
 var myuid = document.getElementById("Uival").value;
 var uname = document.getElementById("Uval").value; //name


let userloc = localStorage.getItem('KCCountry');

setDoc(doc(db, 'Users',uname+k),{
  	Written_By: uname,
  	Wrote: "<center><img class='imcls' src='Stickers/11/9.webp' height='60px' width='60px'/></center>",
  	Time: day+" "+month+" "+year+" "+h+":"+m+" "+userloc,				
  	Uid: myuid,
  	PhotoUrl: localStorage.getItem('KCuserdp')
});
var modal = document.getElementById("Modal");
modal.classList.toggle('showmodal');
})



document.getElementById("tmsgsend").addEventListener("click", function tmsend() {
var message = document.getElementById("tmsginput").value;

var myuid = document.getElementById("Uival").value;

let uname = document.getElementById("Uval").value;

/*var tid = localStorage.getItem('tagid');

var my = myuid.slice(25);

var mid =  my + tid;
var yid = localStorage.getItem('Yourid');

var yid =  document.getElementById("ymid").value;*/

var mid = localStorage.getItem('Myid');
var yid = localStorage.getItem('Yourid');
var taid = localStorage.getItem('taUid');
var tarname = localStorage.getItem('taruser');
var tarinbid = taid.slice(15);
	  
var name = document.getElementById("Uval").value;
const date = new Date();
 var day = date.getDate();
 var month = date.toLocaleString("default", { month: 'short'});
 var year = date.getFullYear(); 
 var h = date.getHours()
 var m = date.getMinutes();
 var s = date.getSeconds();
 var k = Math.random();
 
 var myinbid = myuid.slice(15);

 if(message == "shit")
 {
	$("#tmsginput").attr('readonly', 'readonly');
	$('#tmsginput').attr('placeholder','you have been banned');
	document.getElementById("tmsginput").value="";
	document.getElementById("tmsgsend").disabled = true;

	setDoc(doc(db, 'Blocked',uname+k),{
		User: myuid  				
  });
 }

 else
{
setDoc(doc(db, mid, uname+k),{
				
				Wrote: message,
				Written_By: name,
				Uid: myuid,
				RoomCode: mid,
				Time: day+" "+month+" "+year+" "+h+":"+m,
				PhotoUrl: localStorage.getItem('purl')			
  });
  
setDoc(doc(db, yid, uname+k),{
  			
				Wrote: message,
				Written_By: name,
				Uid: myuid,
				RoomCode: yid,
				Time: day+" "+month+" "+year+" "+h+":"+m,
				PhotoUrl: localStorage.getItem('purl')			
  });
  scrollChat();
  
  /* set to my inbox */
  
  setDoc(doc(db, myinbid, taid),{
  			
				LastMessage: message,
				ForUser: tarname,
				Userid: taid,
				RoomCode: yid,
				Time: day+" "+month+" "+year+" "+h+":"+m,
				PhotoUrl: localStorage.getItem('targetprofurl')			
  });
  
  /* set to target inbox */
  
  setDoc(doc(db, tarinbid, myuid),{
  			
				LastMessage: message,
				ForUser: name,
				Userid: myuid,
				RoomCode: yid,
				Time: day+" "+month+" "+year+" "+h+":"+m,
				PhotoUrl: localStorage.getItem('purl')			
  });
}

});



document.getElementById("imsgsend").addEventListener("click", function tmsend() {
var message = document.getElementById("imsginput").value;

var myuid = document.getElementById("Uival").value;

let uname = document.getElementById("Uval").value;

/*var tid = localStorage.getItem('tagid');

var my = myuid.slice(25);

var mid =  my + tid;
var yid = localStorage.getItem('Yourid');

var yid =  document.getElementById("ymid").value;*/

/*var mid = localStorage.getItem('Myid');
var yid = localStorage.getItem('Yourid');
var taid = localStorage.getItem('taUid');
var tarinbid = taid.slice(15);*/
	  
var name = document.getElementById("Uval").value;
const date = new Date();
 var day = date.getDate();
 var month = date.toLocaleString("default", { month: 'short'});
 var year = date.getFullYear(); 
 var h = date.getHours()
 var m = date.getMinutes();
 var s = date.getSeconds();
 var k = Math.random();
 
 var myinbid = myuid.slice(15);
 
 
 var itid = localStorage.getItem("enemyid");
 var itsi = itid.slice(25); 
 
 var imid = myuid.slice(25);
 
 var myfinid = imid + itsi;
 var tarfinid = itsi + imid;
 
 var tinbx = itid.slice(15);
 var tarname = localStorage.getItem('enemyuname');

if(message == "shit")
{
	$("#imsginput").attr('readonly', 'readonly');
	$('#imsginput').attr('placeholder','you have been banned');
	document.getElementById("imsginput").value="";
	document.getElementById("imsgsend").disabled = true;

	setDoc(doc(db, 'Blocked',uname+k),{
		User: myuid  				
  });
}

else
{

setDoc(doc(db, myfinid, uname+k),{
				
				Wrote: message,
				Written_By: name,
				Uid: myuid,
				RoomCode: myfinid,
				Time: day+" "+month+" "+year+" "+h+":"+m,
				PhotoUrl: localStorage.getItem('purl')			
  });
  
setDoc(doc(db, tarfinid, uname+k),{
  			
				Wrote: message,
				Written_By: name,
				Uid: myuid,
				RoomCode: tarfinid,
				Time: day+" "+month+" "+year+" "+h+":"+m,
				PhotoUrl: localStorage.getItem('purl')			
  });
  scrollChat();
  
  /* set to my inbox */
  
  setDoc(doc(db, myinbid, itid),{
  			
				LastMessage: message,
				ForUser: tarname,
				Userid: itid,
				RoomCode: tarfinid,
				Time: day+" "+month+" "+year+" "+h+":"+m,
				PhotoUrl: localStorage.getItem('enemypic')			
  });
  
  /* set to target inbox */
  
  setDoc(doc(db, tinbx, myuid),{
  			
				LastMessage: message,
				ForUser: name,
				Userid: myuid,
				RoomCode: tarfinid,
				Time: day+" "+month+" "+year+" "+h+":"+m,
				PhotoUrl: localStorage.getItem('purl')			
  });

}
});



var aone = document.getElementById("anim1");
var atwo = document.getElementById("anim2");

cbox();
function cbox()
{
				
    var cbs = document.getElementsByClassName("chkbox");
    for (var i = 0; i < cbs.length; i++) {
        cbs[i].checked = false;
    }
    
						cbs.checked=false;
}


console.log(uid);


/*var s = "HpKP7Nnooo1SzFyfwzcKdE2";
var o = s.slice(5);
alert(o);*/
  

  
  /* backup ended */
  
  getCountry();
    

/* Country testing*/

document.getElementById("cmsgsend").addEventListener("click", function post(){
	
	const date = new Date();
 var day = date.getDate();
 var month = date.toLocaleString("default", { month: 'short'});
 var year = date.getFullYear();
 
 var h = date.getHours();
 var m = date.getMinutes();
 var s = date.getSeconds();
 var k = Math.random();
 var key = Math.random();
 
 var verified = "Yes";
 var unverified = "No";
 
 let uname = document.getElementById("Uval").value; //name



let msg = document. getElementById("cmsginput").value;

let myuid = document.getElementById("Uival").value;


let Country = localStorage.getItem('KCCountry');

if(msg == "shit")
{
	$("#cmsginput").attr('readonly', 'readonly');
	$('#cmsginput').attr('placeholder','you have been banned');
	document.getElementById("cmsginput").value="";
	document.getElementById("cmsgsend").disabled = true;

	setDoc(doc(db, 'Blocked',uname+k),{
		User: myuid  				
  });

}

else
{
setDoc(doc(db, Country,uname+key),{
  				Written_By: uname,
  				Wrote: msg,
				Time: day+" "+month+" "+year+" "+h+":"+m,
  				Uid: myuid,
				PhotoUrl: localStorage.getItem("KCuserdp")
  });
}

/*if(Country == "India")
{
				setDoc(doc(db, Country,uname+key),{
  				Written_By: uname,
  				Wrote: msg,
				Time: day+" "+month+" "+year+" "+h+":"+m,
  				Uid: myuid,
  });				
}

else if (Country =="USA") {

		  		setDoc(doc(db, Country,uname+key),{
  				Written_By: uname,
  				Wrote: msg,
					Time: day+" "+month+" "+year+" "+h+":"+m,
  				Uid: myuid,
  });				
}*/


})

let country = localStorage.getItem('KCCountry');
//alert(country);

/*if(country=="India")
{				  				 	
				showIn();
}
else if (country=="USA") 
{
				showUSA();
}*/

var uname = document.getElementById("Uval").value;
var key = Math.random();

let myid = document.getElementById("Uival").value;

document.getElementById("blockuser").addEventListener('click', function block(){

var tuid = localStorage.getItem('Block').toString();

let m = auth.currentUser.uid;
let t = tuid.toString();

				setDoc(doc(db, m,tuid),{
								Userid: tuid
				});
				targetset();							document.getElementById("Options").classList.toggle('showmodal');
});

function targetset()
{
				var tuid = localStorage.getItem('Block').toString();

let m = auth.currentUser.uid;
let t = tuid.toString();

				setDoc(doc(db, t,m+m),{
								From: m
				});
				
				localStorage.removeItem('Block');
}

/*document.getElementById("blockuser").addEventListener('click', function block(){

var tuid = localStorage.getItem('Block');
				setDoc(doc(db, 'UserPref',uname+key),{
								Userid: tuid
				});
				
				localStorage.removeItem('Block');
});*/

/*document.getElementById("blockuser").addEventListener('click', function testblock(){

document.getElementById("Options").classList.toggle('showmodal');

});*/



window.onunload = function() {
  localStorage.removeItem('Myid'); 
  localStorage.removeItem('Yourid');   
  return '';
};


window.onload = function checkblacklist(){
var Mestorage = localStorage.getItem("ibid");
var Melocal = document.getElementById("Uival").value;
const blackRef = collection(db, 'Blocked');
//const qu = (dataRef, orderBy("Time"));
onSnapshot(blackRef, (block) =>{
//querySnapshot.then((snap)=> {
block.docChanges().forEach(user => {

		if(user.doc.data().User == Mestorage || Melocal)
		{
			$("#msginput").attr('readonly', 'readonly');
	  $('#msginput').attr('placeholder','you have been banned');
	        document.getElementById("msginput").value="";
	        document.getElementById("msgsend").disabled = true;
		}

})
})
}


			
//Userpref();

//function Userpref(){

const myuid = document.getElementById("Uival").value;

//let ucountry = document.getElementById("Ucountval").value;

/*const dataRef = collection(db, 'UserPref');
//const qu = (dataRef, orderBy("Time"));
onSnapshot(dataRef, (snap) =>{
//querySnapshot.then((snap)=> {
snap.docChanges().forEach(verify => {

if (verify.doc.data().Userid==document.getElementById("Uival").value)
{
			const 	verified = "Yes";
	document.getElementById("Uverified").value=verified;
}

else
{
			const verified = "No";	document.getElementById("Uverified").value=verified;
}

})
})
//}*/

window.dmail = function dmail()
{
				DirectMail();
var eid = localStorage.getItem("enemyid");				
				getDoc(doc(db, 'Userscoll/'+ eid)).then(docSnap => 
{  
   var url = docSnap.data().PhotoUrl; 
   var namu = docSnap.data().Username;
   localStorage.setItem("enemyuname", namu);
   localStorage.setItem("enemypic", url);
})
}

/* Country test ended*/

setTimeout(showM, 2000);
setTimeout(showP, 2000);
setTimeout(showIn,2000);

$("#mail").click(function(){
OpenTab(event, 'chat');
document.getElementById("mvnav").style.visibility = "visible";
document.getElementById("vpnav").style.visibility = "hidden";
/*$("#chat").load(showUserChats());*/
showUserChats();
})

$("#inbox").click(function()
{
		showInbox();												document.getElementById("fnav").style.visibility = "hidden";
document.getElementById("topbar").style.visibility = "hidden";					
document.getElementById("inbnav").style.visibility = "visible";			

})

$("#in").click(function()
{
listener();
document.getElementById("fnav").style.visibility = "visible";
document.getElementById("inbnav").style.visibility = "hidden";
})				

/* Insert backup.js here */
		
//})


$("#ext").click(function()
{
				derail();
				localStorage.removeItem("enemyid");
											document.getElementById("inbnav").style.visibility = "visible";
document.getElementById("vcnav").style.visibility = "hidden";
document.getElementById("ibar").style.visibility = "hidden";
})


$("#psave").click(function()
{
var ename = document.getElementById("puser").value;

var eabout = document.getElementById("pabout").value;

var ejob  = document.getElementById("pjob").value;
var erealationship = document.getElementById("prelation").value;
var eaddr = document.getElementById("paddr").value;

var udb = document.getElementById("Uival").value;
/*alert(loc);*/
const washingtonRef = doc(db, "Userscoll", udb);

updateDoc(washingtonRef, {
  Username: ename,
  About: eabout,
  Work: "<img src='portfolio.png' height='20px' width='20px'></img>&nbsp;&nbsp;"+ejob,
  Love: "<img src='heart.png' height='20px' width='20px'></img>&nbsp;&nbsp;"+erealationship,
  Address: "<img src='home.png' height='20px' width='20px'></img>&nbsp;&nbsp; Lives in&nbsp;"+eaddr
});
updateProfile(auth.currentUser, {
  displayName: ename
})
});

$("#pcancel").click(function()
{			
	document.getElementById("edtop").classList.toggle("opaque");				
});


$("#edit").click(function()
{
document.getElementById("edtop").classList.toggle("opaque");
document.getElementById("home").style.filter="blur(5px);"
});


$("#cog").click(function()
{			
	document.getElementById("sett").classList.toggle("opaque");				
});

$("#scancel").click(function()
{			
	document.getElementById("sett").classList.toggle("opaque");				
});

//const dummy = useRef();

/*//let user = auth.currentUser.uid;
//alert(user);

//messagesWith();

// generate idPair
function dmCollection(uid) {
  const idPair = [myuid, toUid].join('_').sort();
  return collection('dms').doc(idPair).collection('messages');
}

// send a DM
function sendDM(toUid, messageText) {
  return dmCollection(toUid).add({
    from: myuid,
    text: messageText,
    sent: "time",
  });
}

// retrieve DMs
function messagesWith(uid) {
  return dmCollection(uid).orderBy('sent', 'desc').get();
}*/

document.getElementById("gc").addEventListener("click", function Scroll(){
				scroll();
});



/*var lastScrollTop = 0;
$(home).scroll(function(){
  var st = $(this).scrollTop();
  var banner = $('.header')
  setTimeout(function(){
    if (st > lastScrollTop){
      banner.addClass('barhide');
    } else {
      banner.removeClass('barhide');
    }
    lastScrollTop = st;
  }, 10);
});*/

/*$messages.mCustomScrollbar("update").mCustomScrollbar('scrollTo', 'bottom', {
    scrollInertia: 10,
    timeout: 0
  });
}*/

var h = document.getElementById("home");
var mybutton = document.getElementById("myBtn");
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (h.scrollTop > 20 || h.document.documentElement.scrollTop > 20) {
    mybutton.style.display = "block";
  } else {
    mybutton.style.display = "none";
  }
}


document.getElementById("myBtn").addEventListener("click", function topFunction() {
  h.scrollTop = 0;
  h.document.documentElement.scrollTop=0;
})


function scroll(){
var output = document.querySelector(".hm");
	output.scrollBy(0, output.scrollHeight);	
}

function scrollChat()
{
				var output = document.querySelector(".ml");
	   output.scrollBy(0, output.scrollHeight);	
}


function relod(){
				location.reload();
}




upload();


/*document.getElementById("viewprofile").addEventListener("click", function viw() {

OpenTab(event, 'vprof');

document.getElementById("Poptions").classList.toggle('showmodal');	

})*/

/*var yId =  document.getElementById("ymid").value;
var Id =  document.getElementById("cmid").value;*/

var set = new Set();

/*document.getElementById("mail").addEventListener("click", function pmsg() {
once: true
OpenTab(event, 'chat');
	  showUserChats(yId);
		 showMyChats(Id);
scroll();
return;
})*/


var not;

/*localStorage.removeItem('Myid');
localStorage.removeItem('Yourid');*/




				

$(function(){
    
    // optional: don't cache ajax to force the content to be fresh
    $.ajaxSetup ({
        cache: false
    });

    // specify loading spinner
    var spinner = "<img src='http://i.imgur.com/pKopwXp.gif' alt='loading...'/>";
    
    // specify the server/url you want to load data from
    var url = "http://fiddle.jshell.net/dvb0wpLs/show/";
    
    
    // on click, load the data dynamically into the #result div
    
        
    });
    
    function logout()
{
  $.post("logout.aspx?action=logout",{},function(data){
    location.href="logout.aspx";
});
}

/*function once()
{
											
}

window.once = function once()
{ 
				showUserChats(yId);
		  showMyChats(Id);
}*/

/*$(document).ready(function(evt)*/
				
		async		function upload() {
		
    var readURL = function(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
           $('.profile-pic').attr('src', e.target.result);
        
                           
        var longUrl = e.target.result;                                
        var regex = longUrl;
    var shortUrl = longUrl.replace(regex, "profile");
 
 var pid = document.getElementById("Uival").value;
 
 const storageRef = ref(storage, "userpic/"+pid+".png");   
    const message4 = longUrl;
uploadString(storageRef, message4, 'data_url').then((snapshot) => {
  console.log('Uploaded a data_url string!');
});

 getDownloadURL(storageRef).then((downloadURL) => {
      /*console.log('File available at', downloadURL);*/
      
      var userid = document.getElementById("Uival").value;
      
      
      console.log(downloadURL);
      
     const imgref = doc(db, "Userscoll", userid);

				updateDoc(imgref, {
  				PhotoUrl: downloadURL
});
      
     /* addDoc(doc(db, 'Userscoll', userid),{
								PhotoUrl: downloadURL
				});*/

    });       

localStorage.setItem('KcUserProfile', regex);

}                
    
         reader.readAsDataURL(input.files[0]);
/* $('.SenderPfp').attr('src', e.target.result);*/
            
   }
 }

    $(".file-upload").on('change', function(){
        readURL(this);
    });
    
  $(".upload-button").on('click', function() {
       $(".file-upload").click();
    });
/*});*/
}

backimgupload();

async		function backimgupload() {
		
    var readURL = function(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
           $('.backwall').attr('src', e.target.result);
        
                           
        var longUrl = e.target.result;                                
        var regex = longUrl;
    var shortUrl = longUrl.replace(regex, "profile");
 
 var pid = document.getElementById("Uival").value;
 
 const storageRef = ref(storage, "userpic/"+pid+"backwall.png");   
    const message4 = longUrl;
uploadString(storageRef, message4, 'data_url').then((snapshot) => {
  console.log('Uploaded a data_url string!');
});

 getDownloadURL(storageRef).then((downloadURL) => {
      /*console.log('File available at', downloadURL);*/
      
      var userid = document.getElementById("Uival").value;
      
      
      console.log(downloadURL);
      
const nyref = doc(db, "Userscoll", userid);

updateDoc(nyref, {
  BackWall: downloadURL
});
      
      /*addDoc(doc(db, 'Userscoll', userid),{
								BackWall: downloadURL
				});*/

    });       

/*localStorage.setItem('KcUserProfile', regex);*/

}                
    
    reader.readAsDataURL(input.files[0]);
            
   }
 }

    $(".upwall").on('change', function(){
        readURL(this);
    });
    
  $(".bupload").on('click', function() {
       $(".upwall").click();
    });
}


 
/* console.log(auth.currentUser.PhotoURL);*/

/*$('#prof').css("background", "url(\Egypt.gif)");*/

//var ls = localStorage.getItem("KcUserProfile");


				
				




/*function upload(){
var short = window.event.target.files[0];  
                console.log(short);
                
              updateProfile(auth.currentUser, {
  photoURL: short
  });
}*/

/*var short = document.getElementById("pfp");  
                console.log(short.src);
                alert(short.getAttribute("src"));*/



/*var reg = /.*?asdfkadsf/;

var str = "asdfkadsf[xxxxx]";

var test = str.replace(reg,"bar");
console.log(test);*/

/*var short = url.replace(/^data:image\/(png|jpg|jpeg);base64,/, "pic"); */  









/*function renderS(doc){
}*/


async function showP(){
const AdminRef = collection(db, 'Admin');
const q = query(AdminRef, orderBy("Time"));
onSnapshot(AdminRef, q, (snaps) =>{
snaps.docChanges().forEach(change => {

let adm = document.createElement('div');
adm.setAttribute("class", "htt2");


if(change.doc.data().Admin=="Yes") {
										 
							adm.innerHTML+=`
							<!--<article>${change.doc.data().Written_By}             &nbsp<img class="verified" src="https://img.icons8.com/color/48/000000/verified-badge.png"/></article>-->
							
												<div class="card">	
						      <article>${change.doc.data().Written_By}             &nbsp<img class="verified" src="https://img.icons8.com/color/48/000000/verified-badge.png"/></article>
									<!--<hr class="line">-->
									<p class="wrote">${change.doc.data().Wrote}</p>
									<br>
									<br>
									<p class="time">${change.doc.data().Time}</p>
									</div>
									`
					       document.getElementById("home").appendChild(adm);
			let s = document.createElement("div");
			s.setAttribute("class","gapright");
			s.innerHTML+=`<br><br><br><br>`;			document.getElementById("home").appendChild(s);
}

if (adm)
{
				scroll();
}


const myuid = document.getElementById("Uival").value;

if(change.doc.data().Uid==myuid)
{
				adm.setAttribute("class", "sender");
				adm.innerHTML+=`<div class="SenderPfp" id="prof"></div><div class="right-in"></div>`;

}

else
{
				adm.setAttribute("class", "receiver");
				adm.innerHTML+=`<div class="ReceiverPfp" id="prof"></div><div class="left-in"></div>`;
}


/*else
{
				adm.setAttribute("class", "htt");
				adm.innerHTML+=`
				<!--<article>${change.doc.data().Written_By}</article>-->
												<div class="card">
												<article>${change.doc.data().Written_By}</article>
									<hr class="line">
									<p class="wrote">${change.doc.data().Wrote}</p>
									<br>
									<br>
									<p class="time">${change.doc.data().Time}</p>
									</div>
									`
		document.getElementById("home").appendChild(adm);
}*/

})
})

}




async function showM(){

const dataRef = collection(db, 'Users');
//const qu = (dataRef, orderBy("Time"));
onSnapshot(dataRef, (snap) =>{
//querySnapshot.then((snap)=> {
snap.docChanges().forEach(change => {


/*const vref = collection(db, 'Verified');
window.Verified =  onSnapshot(collection(db, "Verified"), (fetch) =>{
fetch.docChanges().forEach(item => { */

const AdmRef = collection(db, 'Verified');
const q = query(AdmRef, orderBy("Time"));
onSnapshot(AdmRef, (snaps) =>{
snaps.docChanges().forEach(user => {

let msg = document. getElementById("msginput");

let unv = document.createElement("div");
unv.setAttribute("class", "htt");

let dv = document.createElement('div');
dv.setAttribute("class", "htt");

let dnv = document.createElement("div");
dnv.setAttribute("class", "htt");

const myid = document.getElementById("Uival").value;

/*let checked = document.getElementById("Uverified").value;*/

let s = document.createElement("div");

//let type = change.type


								
									/*test*/
if(change.doc.data().Uid==user.doc.data().Userid){
    var itd = change.doc.data()	.Uid;
//var temp = 													
																					
							//unv.style.animation="pop 5s forwards";
															
							unv.innerHTML+=`												
				<div class="card" id=${change.doc.data().Uid} title=${change.doc.data().Uid} onclick="send(title)">
		     <article id="ar">${change.doc.data().Written_By}&nbsp<img class="verified" src="https://img.icons8.com/color/48/000000/verified-badge.png"/></article>
								<!--<hr class="line">-->
									<p class="wrote">${change.doc.data().Wrote}</p>
									<br>
									<br>
									<p class="time">${change.doc.data().Time}</p>
									</div>`	;									
	
	
/*var mysrc = document.createElement("script");
var inlinesrc = document.createTextNode(id);
mysrc.appendChild(inlinesrc); 
unv.appendChild(mysrc);	*/								
																document.getElementById("home").appendChild(unv)	;
														
																
			//let s = document.createElement("div");
			s.setAttribute("class","gapright");
			s.innerHTML+=`<br><br><br><br>`;			document.getElementById("home").appendChild(s);
				
				
		/*	let d = 	document.createElement("div");
			d.setAttribute("class","senderSp");
			d.innerHTML+=`<p class="wrote">${change.doc.data().Wrote}</p>
			<br><br>
		<p class="time">${change.doc.data().Time}</p>`;
			document.getElementById("home").appendChild(d);*/
							 //createSpacew();
							//scroll();

}



/*if(change.doc.data().Written_By=="Aman")
{
				unv.setAttribute("class", "sender");
}*/

else
{
//let unv = document.createElement('div');
//unv.setAttribute("class", "htt");
unv.innerHTML+=`
												<div class="card" id=${change.doc.data().Uid} title=${change.doc.data().Uid} onclick="send(title)">
												<article id="pr">${change.doc.data().Written_By}</article>
								<!--	<hr class="line">-->
									<p class="wrote">${change.doc.data().Wrote}</p>
									<br>
									<br>
									<p class="time">${change.doc.data().Time}</p>
									</div>
									`	;							
										document.getElementById("home").appendChild(unv);	
								
			//let s = document.createElement("div");
			s.setAttribute("class","gapleft");
			s.innerHTML+=`<br><br><br><br>`;		    document.getElementById("home").appendChild(s);
									
		/*	let d = 	document.createElement("div");
			d.setAttribute("class","receiverSp");
			d.innerHTML+=`<p class="wrote">${change.doc.data().Wrote}</p>
			<br><br>
			<p class="time">${change.doc.data().Time}</p>`;
			document.getElementById("home").appendChild(d);*/
						//	createSpacew();
							//scroll();							 
}

if(change.doc.data().Anim=="one")
{
				unv.style.animation="pop 5s forwards";
}

else if(change.doc.data().Anim=="two") 
{

				unv.style.filter="contrast(200%)";
}

/*else{}*/


const myuid = document.getElementById("Uival").value;

let ms = myuid.toString();

const Uservdata = collection(db, ms);
//const qu = (dataRef, orderBy("Time"));
onSnapshot(Uservdata, (snap) =>{
//querySnapshot.then((verify)=> {
snap.docChanges().forEach(info => {

if(info.doc.data().Userid==myuid) 
{

}
else if(change.doc.data().Uid==info.doc.data().Userid) 
{
				unv.remove();
				s.remove();
}
else if(change.doc.data().Uid==info.doc.data().From)
{
				unv.remove();
				s.remove();
				/*remove this condition if throws error*/
}
			
});

});

/*var myfid = auth.currentUser.uid.slice(5);
const Userv = collection(db, 'Hidden');
//const qu = (Userv, orderBy("Time"));
onSnapshot(Userv, (snap) =>{
//querySnapshot.then((verify)=> {
snap.docChanges().forEach(hid => {

if(hid.doc.data().From==myuid)
{
				
}
else if(hid.doc.data().Userid!=myuid)
{
				unv.remove();
				s.remove();
}


});
});*/











if (unv)
{
				scroll();
}

var colourIsLight = function (r, g, b) {
  
  // Counting the perceptive luminance
  // human eye favors green color... 
  var a = 1 - (0.299 * r + 0.587 * g + 0.114 * b) / 255;
  return (a < 0.5);
}

var randomRgb = function () {
  var r = /* 189; //*/ Math.floor(Math.random() * 256);
  var g = /*60; //*/ Math.floor(Math.random() * 256);
  var b = /*151; //*/ Math.floor(Math.random() * 256);
  return [r, g, b];
};

var colourFromRgb = function (r, g, b) {
  return 'rgb(' + r + ',' + g + ',' + b + ')';
};
  
  var bgRgb = randomRgb();
  var bgColour = colourFromRgb(bgRgb[0], bgRgb[1], bgRgb[2]);
  var textColour = colourIsLight(bgRgb[0], bgRgb[1], bgRgb[2]) ? 'black' : 'white';
  
  //el.setAttribute('style', 'background-color: ' + bgColour + '; color: ' + textColour);
  

/*var p = document.querySelector("#cd");
var c = p.querySelector(':nth-child(2)');
c.style.color="blue";*/

/*let children = document.querySelector("#cd");
children.forEach(child => {
  child.style.color = "red";
})*/


if(change.doc.data().Uid==myuid)
{
				unv.setAttribute("class", "sender");
				dnv.setAttribute("class", "Sendericonbox");
				
			dnv.innerHTML+=`<div class="senderpic" title=${change.doc.data().Uid} id="prof" onclick="alert(title)" style="background: url(${change.doc.data().PhotoUrl}); background-size: cover;"></div>`;
			unv.innerHTML+=`<div class="right-in"></div>`;
			unv.appendChild(dnv);

/*if(change.doc.data().Uid=="x1tvZfIsDSfOHr9uAc9F0JfO2bp2")
{							
							unv.innerHTML+=`<img src="Ped.gif" alt="" class="SenderPfp">`;
}	*/
				
				/*unv.innerHTML+=`<div class="SenderPfp" id="prof"></div><div class="right-in"></div>`;*/
				
/*$('.SenderPfp').attr('src',auth.currentUser.photoURL);	*/
							
/*unv.setAttribute('style', 'color: ' + textColour);*/

//var p = document.getElementById("cd");
//var c = p.getElementsByTagName("p")[0];

//c.style.color="blue";

}
else
{
				unv.setAttribute("class", "receiver");
				dnv.setAttribute("class", "Receivericonbox");
				
				dnv.innerHTML+=`<div class="receiverpic" id="prof" title=${change.doc.data().Uid} onclick="profile(title)" style="background: url(${change.doc.data().PhotoUrl}); background-size: cover;"></div>`;
				unv.innerHTML+=`<div class="left-in"></div>`;

				unv.appendChild(dnv);
			
				
/*var p = document.getElementById("cd");
var c = p.getElementsByTagName("p")[0];

c.style.color="red";*/

/*unv.innerHTML+=`<div class="ReceiverPfp" id="prof"></div><div class="left-in"></div>`;*/

}




if(change.doc.data().Bot=="Yes")
{
				unv.setAttribute("class", "htt2");			
}

/*if(change.doc.data().Written_By=="Receiver")
{
		unv.setAttribute('style', 'background: blue');
}*/


function profile(title)
{
				
		alert(title);
		return title;
						
}

/*window.profile = profile;*/


window.profile = function profile(title)
{
document.getElementById("topbar").style.visibility = "hidden";
document.getElementById("header").style.visibility = "hidden";
document.getElementById("fnav").style.visibility = "hidden";
document.getElementById("vpnav").style.visibility = "visible";
document.getElementById("tbar").style.visibility = "hidden";

document.getElementById("cbar").style.visibility = "hidden";
document.getElementById("mvnav").style.visibility = "hidden";


localStorage.setItem("taUid", title);

				OpenTab(event, 'vprof');
				
				var myuid = document.getElementById("Uival").value;

var my = myuid.slice(25);
var ttid = title.slice(25);

localStorage.setItem('tagid', ttid);

var Mid =  my + ttid;
var Yid = ttid + my;					

localStorage.setItem('Myid', Mid);
localStorage.setItem('Yourid', Yid);

/*$("#mail").click(function(){
OpenTab(event, 'chat');
$("#chat").load(showUserChats());
showUserChats();
})*/

							
				getDoc(doc(db, 'Userscoll/'+ title)).then(docSnap => 
{  
   var url = docSnap.data().PhotoUrl; 
   var usrnm = docSnap.data().Username;
   var about = docSnap.data().About;
   var bwall = docSnap.data().BackWall;
   var vwork =  docSnap.data().Work;
   var vaddr = docSnap.data().Address;
   var vlove = docSnap.data().Love;
   document.getElementById("vpione").innerHTML=vwork;    document.getElementById("vpitwo").innerHTML=vaddr;   document.getElementById("vpithree").innerHTML=vlove;
   document.getElementById('vpfp').src=url;
   document.getElementById('vpbking').src=bwall;       
   localStorage.setItem("targetprofurl", url);  
   localStorage.setItem("taruser", usrnm); 
   document.getElementById('Uvalvprof').value = usrnm;
   document.getElementById('About').innerHTML = about; 
});



$("#bb").click(function(){
/*detach();*/
localStorage.removeItem('taUid');
localStorage.removeItem('taruser');
document.getElementById("topbar").style.visibility = "visible";
document.getElementById("vpnav").style.visibility = "hidden";
document.getElementById("header").style.visibility = "visible";
document.getElementById("fnav").style.visibility = "visible";
document.getElementById("tbar").style.visibility = "hidden";
});

$("#mvn").click(function(){
detach();
localStorage.removeItem('taUid');
localStorage.removeItem('taruser');
document.getElementById("topbar").style.visibility = "visible";
document.getElementById("vpnav").style.visibility = "hidden";
document.getElementById("header").style.visibility = "visible";
document.getElementById("fnav").style.visibility = "visible";
document.getElementById("tbar").style.visibility = "hidden";
document.getElementById("mvnav").style.visibility = "hidden";
});


/* User to User testing */

window.showUserChats = function showUserChats(){

/*let myuid = document.getElementById("Uival").value;*/

/*var IdMy = myuid.slice(25);
var tagId = localStorage.getItem('tagid');

var Id = IdMy + tagId;
var yId = tagId + IdMy;

 yId = document.getElementById("ymid").value;*/
 
var Uid = localStorage.getItem('Yourid');
var Mmid = localStorage.getItem('Myid');


const dataRef = collection(db, Mmid);
/*const qu = (dataRef, orderBy("Time"));*/
window.detach = onSnapshot(collection(db, Mmid), (snap) =>{
/*querySnapshot.then((snap)=> {*/
snap.docChanges().forEach(change => {


let msg = document. getElementById("msginput");

let unv = document.createElement("div");
unv.setAttribute("class", "htt");


let dv = document.createElement('div');
dv.setAttribute("class", "htt");

let dnv = document.createElement("div");
dnv.setAttribute("class", "htt");

const myid = document.getElementById("Uival").value;

/*let checked = document.getElementById("Uverified").value;*/

let s = document.createElement("div");

//let type = change.type


								
									/*test*/
if(change.doc.data().Uid==user.doc.data().Userid){
		
var itd = change.doc.data()	.Uid;
//var temp = 													
																					
							//unv.style.animation="pop 5s forwards";
															
							unv.innerHTML+=`												
				<div class="card" id="cd" title=${change.doc.data().Uid} onclick="send(title)">
		     <article id="ar">${change.doc.data().Written_By}&nbsp<img class="verified" src="https://img.icons8.com/color/48/000000/verified-badge.png"/></article>
								<!--	<hr class="line">-->
									<p class="wrote">${change.doc.data().Wrote}</p>
									<br>
									<br>
									<p class="time">${change.doc.data().Time}</p>
									</div>`	;									
	
	
/*var mysrc = document.createElement("script");
var inlinesrc = document.createTextNode(id);
mysrc.appendChild(inlinesrc); 
unv.appendChild(mysrc);	*/								
																document.getElementById("chat").appendChild(unv)	;
														
																
			//let s = document.createElement("div");
			s.setAttribute("class","gapright");
			s.innerHTML+=`<br><br><br><br>`;			document.getElementById("chat").appendChild(s);
				
				
document.getElementById("mvn").addEventListener("click", function wipe()
{
unv.remove();
s.remove();

localStorage.removeItem('Myid');
localStorage.removeItem('Yourid');
localStorage.removeItem('taruser');
})

}



/*if(change.doc.data().Written_By=="Aman")
{
				unv.setAttribute("class", "sender");
}*/

else
{
//let unv = document.createElement('div');
//unv.setAttribute("class", "htt");
unv.innerHTML+=`
												<div class="card" id="cd" title=${change.doc.data().Uid} onclick="send(title)">
												<article id="pr">${change.doc.data().Written_By}</article>
								<!--	<hr class="line">-->
									<p class="wrote">${change.doc.data().Wrote}</p>
									<br>
									<br>
									<p class="time">${change.doc.data().Time}</p>
									</div>
									`	;							
										document.getElementById("chat").appendChild(unv);	
								
			//let s = document.createElement("div");
			s.setAttribute("class","gapleft");
			s.innerHTML+=`<br><br><br><br>`;		    document.getElementById("chat").appendChild(s);
									
		/*	let d = 	document.createElement("div");
			d.setAttribute("class","receiverSp");
			d.innerHTML+=`<p class="wrote">${change.doc.data().Wrote}</p>
			<br><br>
			<p class="time">${change.doc.data().Time}</p>`;
			document.getElementById("home").appendChild(d);*/
						//	createSpacew();
							//scroll();							 
							
document.getElementById("mvn").addEventListener("click", function wipe()
{
unv.remove();
s.remove();

localStorage.removeItem('Myid');
localStorage.removeItem('Yourid');
localStorage.removeItem('taruser');
})

}

if(change.doc.data().Anim=="one")
{
				unv.style.animation="pop 5s forwards";
}

else if(change.doc.data().Anim=="two") 
{

				unv.style.filter="contrast(200%)";
}

/*else{}*/


const myuid = document.getElementById("Uival").value;

let ms = myuid.toString();

const Uservdata = collection(db, ms);
//const qu = (dataRef, orderBy("Time"));
onSnapshot(Uservdata, (snap) =>{
//querySnapshot.then((verify)=> {
snap.docChanges().forEach(info => {

if(info.doc.data().Userid==myuid) 
{

}
else if(change.doc.data().Uid==info.doc.data().Userid) 
{
				unv.remove();
				s.remove();
}
else if(change.doc.data().Uid==info.doc.data().From)
{
				unv.remove();
				s.remove();
				/*remove this condition if throws error*/
}
			
});

});

/*var myfid = auth.currentUser.uid.slice(5);
const Userv = collection(db, 'Hidden');
//const qu = (Userv, orderBy("Time"));
onSnapshot(Userv, (snap) =>{
//querySnapshot.then((verify)=> {
snap.docChanges().forEach(hid => {

if(hid.doc.data().From==myuid)
{
				
}
else if(hid.doc.data().Userid!=myuid)
{
				unv.remove();
				s.remove();
}


});
});*/











if (unv)
{
				scrollChat();
}

var colourIsLight = function (r, g, b) {
  
  // Counting the perceptive luminance
  // human eye favors green color... 
  var a = 1 - (0.299 * r + 0.587 * g + 0.114 * b) / 255;
  return (a < 0.5);
}

var randomRgb = function () {
  var r = /* 189; //*/ Math.floor(Math.random() * 256);
  var g = /*60; //*/ Math.floor(Math.random() * 256);
  var b = /*151; //*/ Math.floor(Math.random() * 256);
  return [r, g, b];
};

var colourFromRgb = function (r, g, b) {
  return 'rgb(' + r + ',' + g + ',' + b + ')';
};
  
  var bgRgb = randomRgb();
  var bgColour = colourFromRgb(bgRgb[0], bgRgb[1], bgRgb[2]);
  var textColour = colourIsLight(bgRgb[0], bgRgb[1], bgRgb[2]) ? 'black' : 'white';
  
  //el.setAttribute('style', 'background-color: ' + bgColour + '; color: ' + textColour);
  

/*var p = document.querySelector("#cd");
var c = p.querySelector(':nth-child(2)');
c.style.color="blue";*/

/*let children = document.querySelector("#cd");
children.forEach(child => {
  child.style.color = "red";
})*/



if(change.doc.data().Uid==myuid)
{
				unv.setAttribute("class", "sender");
				dnv.setAttribute("class", "Sendericonbox");
				
			dnv.innerHTML+=`<div class="senderpic" title=${change.doc.data().Uid} id="prof" onclick="alert(title)" style="background: url(${change.doc.data().PhotoUrl}); background-size: cover;"></div>`;
			unv.innerHTML+=`<div class="right-in"></div>`;
			unv.appendChild(dnv);

/*if(change.doc.data().Uid=="x1tvZfIsDSfOHr9uAc9F0JfO2bp2")
{							
							unv.innerHTML+=`<img src="Ped.gif" alt="" class="SenderPfp">`;
}	*/
				
				/*unv.innerHTML+=`<div class="SenderPfp" id="prof"></div><div class="right-in"></div>`;*/
				
/*$('.SenderPfp').attr('src',auth.currentUser.photoURL);	*/
							
/*unv.setAttribute('style', 'color: ' + textColour);*/

//var p = document.getElementById("cd");
//var c = p.getElementsByTagName("p")[0];

//c.style.color="blue";

}
else
{
				unv.setAttribute("class", "receiver");
				dnv.setAttribute("class", "Receivericonbox");
				
				dnv.innerHTML+=`<div class="receiverpic" id="prof" title=${change.doc.data().Uid} onclick="" style="background: url(${change.doc.data().PhotoUrl}); background-size: cover;"></div>`;
				unv.innerHTML+=`<div class="left-in"></div>`;
				unv.appendChild(dnv);
			
				
/*var p = document.getElementById("cd");
var c = p.getElementsByTagName("p")[0];

c.style.color="red";*/

/*unv.innerHTML+=`<div class="ReceiverPfp" id="prof"></div><div class="left-in"></div>`;*/

}




if(change.doc.data().Bot=="Yes")
{
				unv.setAttribute("class", "htt2");			
}

/*if(change.doc.data().Written_By=="Receiver")
{
		unv.setAttribute('style', 'background: blue');
}*/

})
})

}




/* Testing Ended */
}



//renderS(doc);
})

})
})

})
}//) /* remove ")" for old working */

//})  /* remove both for old working */
//}				/* remove for old working */


function DirectMail(){

var myuid = document.getElementById("Uival").value;

var enmid = localStorage.getItem("enemyid");

var dmmy = myuid.slice(25);
var dmtg = enmid.slice(25);

var mybox = dmmy + dmtg;
var tgbox = dmtg + dmmy;



/*var IdMy = myuid.slice(25);
var tagId = localStorage.getItem('tagid');

var Id = IdMy + tagId;
var yId = tagId + IdMy;

 yId = document.getElementById("ymid").value;*/
 
var Uid = localStorage.getItem('Yourid');
var Mmid = localStorage.getItem('Myid');


const dataRef = collection(db, mybox);
/*const qu = (dataRef, orderBy("Time"));*/
window.derail = onSnapshot(collection(db, mybox), (snap) =>{
/*querySnapshot.then((snap)=> {*/
snap.docChanges().forEach(change => {

const AdmRef = collection(db, 'Verified');
const q = query(AdmRef, orderBy("Time"));
onSnapshot(AdmRef, (snaps) =>{
snaps.docChanges().forEach(user => {


let msg = document. getElementById("msginput");

let unv = document.createElement("div");
unv.setAttribute("class", "htt");


let dv = document.createElement('div');
dv.setAttribute("class", "htt");

let dnv = document.createElement("div");
dnv.setAttribute("class", "htt");

const myid = document.getElementById("Uival").value;

/*let checked = document.getElementById("Uverified").value;*/

let s = document.createElement("div");

//let type = change.type


								
									/*test*/
				if(change.doc.data().Uid==user.doc.data().Userid){
		

var itd = change.doc.data()	.Uid;
//var temp = 													
																					
							//unv.style.animation="pop 5s forwards";
															
							unv.innerHTML+=`												
				<div class="card" id="cd" title=${change.doc.data().Uid} onclick="send(title)">
		     <article id="ar">${change.doc.data().Written_By}             &nbsp<img class="verified" src="https://img.icons8.com/color/48/000000/verified-badge.png"/></article>
								<!--	<hr class="line">-->
									<p class="wrote">${change.doc.data().Wrote}</p>
									<br>
									<br>
									<p class="time">${change.doc.data().Time}</p>
									</div>`	;									
	
	
/*var mysrc = document.createElement("script");
var inlinesrc = document.createTextNode(id);
mysrc.appendChild(inlinesrc); 
unv.appendChild(mysrc);	*/								
																document.getElementById("empv").appendChild(unv)	;
														
																
			//let s = document.createElement("div");
			s.setAttribute("class","gapright");
			s.innerHTML+=`<br><br><br><br>`;			document.getElementById("empv").appendChild(s);
				
				
		/*	let d = 	document.createElement("div");
			d.setAttribute("class","senderSp");
			d.innerHTML+=`<p class="wrote">${change.doc.data().Wrote}</p>
			<br><br>
		<p class="time">${change.doc.data().Time}</p>`;
			document.getElementById("home").appendChild(d);*/
							 //createSpacew();
							//scroll();
							
document.getElementById("ext").addEventListener("click", function wipe()
{

unv.remove();
s.remove();

localStorage.removeItem('Myid');
localStorage.removeItem('Yourid');
localStorage.removeItem('taruser');
})							

}



/*if(change.doc.data().Written_By=="Aman")
{
				unv.setAttribute("class", "sender");
}*/

else
{
//let unv = document.createElement('div');
//unv.setAttribute("class", "htt");
unv.innerHTML+=`
												<div class="card" id="cd" title=${change.doc.data().Uid} onclick="send(title)">
												<article id="pr">${change.doc.data().Written_By}</article>
								<!--	<hr class="line">-->
									<p class="wrote">${change.doc.data().Wrote}</p>
									<br>
									<br>
									<p class="time">${change.doc.data().Time}</p>
									</div>
									`	;							
										document.getElementById("empv").appendChild(unv);	
								
			//let s = document.createElement("div");
			s.setAttribute("class","gapleft");
			s.innerHTML+=`<br><br><br><br>`;		    document.getElementById("empv").appendChild(s);
									
		/*	let d = 	document.createElement("div");
			d.setAttribute("class","receiverSp");
			d.innerHTML+=`<p class="wrote">${change.doc.data().Wrote}</p>
			<br><br>
			<p class="time">${change.doc.data().Time}</p>`;
			document.getElementById("home").appendChild(d);*/
						//	createSpacew();
							//scroll();							 
							
							document.getElementById("ext").addEventListener("click", function wipe()
{

unv.remove();
s.remove();

localStorage.removeItem('Myid');
localStorage.removeItem('Yourid');
localStorage.removeItem('taruser');
})

}

if(change.doc.data().Anim=="one")
{
				unv.style.animation="pop 5s forwards";
}

else if(change.doc.data().Anim=="two") 
{

				unv.style.filter="contrast(200%)";
}

/*else{}*/


const myuid = document.getElementById("Uival").value;

let ms = myuid.toString();

const Uservdata = collection(db, ms);
//const qu = (dataRef, orderBy("Time"));
onSnapshot(Uservdata, (snap) =>{
//querySnapshot.then((verify)=> {
snap.docChanges().forEach(info => {

if(info.doc.data().Userid==myuid) 
{

}
else if(change.doc.data().Uid==info.doc.data().Userid) 
{
				unv.remove();
				s.remove();
}
else if(change.doc.data().Uid==info.doc.data().From)
{
				unv.remove();
				s.remove();
				/*remove this condition if throws error*/
}
			
});

});

/*var myfid = auth.currentUser.uid.slice(5);
const Userv = collection(db, 'Hidden');
//const qu = (Userv, orderBy("Time"));
onSnapshot(Userv, (snap) =>{
//querySnapshot.then((verify)=> {
snap.docChanges().forEach(hid => {

if(hid.doc.data().From==myuid)
{
				
}
else if(hid.doc.data().Userid!=myuid)
{
				unv.remove();
				s.remove();
}


});
});*/











if (unv)
{
				scrollChat();
}

var colourIsLight = function (r, g, b) {
  
  // Counting the perceptive luminance
  // human eye favors green color... 
  var a = 1 - (0.299 * r + 0.587 * g + 0.114 * b) / 255;
  return (a < 0.5);
}

var randomRgb = function () {
  var r = /* 189; //*/ Math.floor(Math.random() * 256);
  var g = /*60; //*/ Math.floor(Math.random() * 256);
  var b = /*151; //*/ Math.floor(Math.random() * 256);
  return [r, g, b];
};

var colourFromRgb = function (r, g, b) {
  return 'rgb(' + r + ',' + g + ',' + b + ')';
};
  
  var bgRgb = randomRgb();
  var bgColour = colourFromRgb(bgRgb[0], bgRgb[1], bgRgb[2]);
  var textColour = colourIsLight(bgRgb[0], bgRgb[1], bgRgb[2]) ? 'black' : 'white';
  
  //el.setAttribute('style', 'background-color: ' + bgColour + '; color: ' + textColour);
  

/*var p = document.querySelector("#cd");
var c = p.querySelector(':nth-child(2)');
c.style.color="blue";*/

/*let children = document.querySelector("#cd");
children.forEach(child => {
  child.style.color = "red";
})*/




if(change.doc.data().Uid==myuid)
{
				unv.setAttribute("class", "sender");
				dnv.setAttribute("class", "Sendericonbox");
				
			dnv.innerHTML+=`<div class="senderpic" title=${change.doc.data().Uid} id="prof" onclick="" style="background: url(${change.doc.data().PhotoUrl}); background-size: cover;"></div>`;
			unv.innerHTML+=`<div class="right-in"></div>`;
			unv.appendChild(dnv);

/*if(change.doc.data().Uid=="x1tvZfIsDSfOHr9uAc9F0JfO2bp2")
{							
							unv.innerHTML+=`<img src="Ped.gif" alt="" class="SenderPfp">`;
}	*/
				
				/*unv.innerHTML+=`<div class="SenderPfp" id="prof"></div><div class="right-in"></div>`;*/
				
/*$('.SenderPfp').attr('src',auth.currentUser.photoURL);	*/
							
/*unv.setAttribute('style', 'color: ' + textColour);*/

//var p = document.getElementById("cd");
//var c = p.getElementsByTagName("p")[0];

//c.style.color="blue";

}
else
{
				unv.setAttribute("class", "receiver");
				dnv.setAttribute("class", "Receivericonbox");
				
				dnv.innerHTML+=`<div class="receiverpic" id="prof" title=${change.doc.data().Uid} onclick="" style="background: url(${change.doc.data().PhotoUrl}); background-size: cover;"></div>`;
				unv.innerHTML+=`<div class="left-in"></div>`;
				unv.appendChild(dnv);
			
				
/*var p = document.getElementById("cd");
var c = p.getElementsByTagName("p")[0];

c.style.color="red";*/

/*unv.innerHTML+=`<div class="ReceiverPfp" id="prof"></div><div class="left-in"></div>`;*/

}




if(change.doc.data().Bot=="Yes")
{
				unv.setAttribute("class", "htt2");			
}

/*if(change.doc.data().Written_By=="Receiver")
{
		unv.setAttribute('style', 'background: blue');
}*/

})

})
})

})

}



function showInbox(){

var myid = localStorage.getItem("ibid");/*document.getElementById("Uival").value;*/
var myinbox = myid.slice(15);

const dataRef = collection(db, myinbox);
window.listener = onSnapshot(collection(db, myinbox), (snap) =>{
snap.docChanges().forEach(change => {


var msg = document. getElementById("msginput");

var unv = document.createElement("div");
unv.setAttribute("class", "inbht");

let dv = document.createElement('div');
dv.setAttribute("class", "htt");

let dnv = document.createElement("div");
dnv.setAttribute("class", "htt");

/*let checked = document.getElementById("Uverified").value;*/

let s = document.createElement("div");

//let type = change.type


								
									/*test*/
															/*if(change.doc.data().Uid=="x1tvZfIsDSfOHr9uAc9F0JfO2bp2" || change.doc.data().Uid=="akZjtyXLZPT3rsxQRKGl4qqiZBC3"){*/
		
															
							unv.innerHTML+=`<div class="inboxuserpic" id="prof" title=${change.doc.data().Uid} onclick="" style="background: url(${change.doc.data().PhotoUrl}); background-size: cover;"></div>											
				<div class="inbcard" id="cd" title=${change.doc.data().Userid} onclick="copy(title)">
		     <article class="inbar" id="ar"><strong>${change.doc.data().ForUser}</strong>             
&nbsp;</article>
								<!--	<hr class="line">-->
									<p class="inbwrote">${change.doc.data().LastMessage}</p>
									<hr class="inbhr">
									<p class="clockinbx">${change.doc.data().Time}</p>
									</div>`	;									
				
																document.getElementById("viewinbox").appendChild(unv)	;
														
																
		/*	s.setAttribute("class","gapright");
			s.innerHTML+=``;			document.getElementById("viewinbox").appendChild(s);*/
				

/*}*/

document.getElementById("in").addEventListener("click", function clear()
{
				unv.remove();
				s.remove();
}	)


/*else
{

unv.innerHTML+=`
												<div class="card" id="cd" title=${change.doc.data().Uid} onclick="send(title)">
												<article id="pr">${change.doc.data().Written_By}</article>
								<!--	<hr class="line">-->
									<p class="wrote">${change.doc.data().Wrote}</p>
									<br>
									<br>
									<p class="time">${change.doc.data().Time}</p>
									</div>
									`	;							
										document.getElementById("viewinbox").appendChild(unv);	
								
			s.setAttribute("class","gapleft");
			s.innerHTML+=`<br><br><br><br>`;		    document.getElementById("viewinbox").appendChild(s);
									
}*/




const myuid = document.getElementById("Uival").value;

let ms = myuid.toString();

const Uservdata = collection(db, ms);
//const qu = (dataRef, orderBy("Time"));
onSnapshot(Uservdata, (snap) =>{
//querySnapshot.then((verify)=> {
snap.docChanges().forEach(info => {

if(info.doc.data().Userid==myuid) 
{

}
else if(change.doc.data().Uid==info.doc.data().Userid) 
{
				unv.remove();
				s.remove();
}
else if(change.doc.data().Uid==info.doc.data().From)
{
				unv.remove();
				s.remove();
				/*remove this condition if throws error*/
}
			
});

});


if (unv)
{
				scroll();
}



})
})
}




/* Country db testing*/

async function showIn(){
let ucountry = localStorage.getItem('KCCountry');

const dataRef = collection(db, ucountry);
//const qu = (dataRef, orderBy("Time"));
onSnapshot(dataRef, (snap) =>{
//querySnapshot.then((snap)=> {
snap.docChanges().forEach(change => {


const AdmRef = collection(db, 'Verified');
const q = query(AdmRef, orderBy("Time"));
onSnapshot(AdmRef, (snaps) =>{
snaps.docChanges().forEach(user => {

/*const dataRef = collection(db, 'Userpref');
//const qu = (dataRef, orderBy("Time"));
onSnapshot(dataRef, (snap) =>{
//querySnapshot.then((snap)=> {
snap.docChanges().forEach(verify => {*/

let msg = document. getElementById("cmsginput");

let unv = document.createElement("div");
unv.setAttribute("class", "htt");

let dv = document.createElement('div');
dv.setAttribute("class", "htt");

let dnv = document.createElement("div");
dnv.setAttribute("class", "htt");

/*var isimverified = document.getElementById("Uverified").value;*/

let s = document.createElement("div");

var verified = new Array("x1tvZfIsDSfOHr9uAc9F0JfO2bp2");

//let type = change.type
								
									/*test*/
							if(change.doc.data().Uid==user.doc.data().Userid){
							unv.innerHTML+=`					
				<div class="card" id="cd" title=${change.doc.data().Uid} onclick="send(title)">
						      <article>${change.doc.data().Written_By}             &nbsp<img class="verified" src="https://img.icons8.com/color/48/000000/verified-badge.png"/></article>
								<!--	<hr class="line">-->
									<p class="wrote">${change.doc.data().Wrote}</p>
									<br>
									<br>
									<p class="time">${change.doc.data().Time}</p>
									</div>`	;																							document.getElementById("dome").appendChild(unv)	;																				
			//let s = document.createElement("div");
			s.setAttribute("class","gapright");
			s.innerHTML+=`<br><br><br><br>`;			document.getElementById("dome").appendChild(s);
				
				
		/*	let d = 	document.createElement("div");
			d.setAttribute("class","senderSp");
			d.innerHTML+=`<p class="wrote">${change.doc.data().Wrote}</p>
			<br><br>
		<p class="time">${change.doc.data().Time}</p>`;
			document.getElementById("home").appendChild(d);*/
							 //createSpacew();
							//scroll();
}

/*if(change.doc.data().Written_By=="Aman")
{
				unv.setAttribute("class", "sender");
}*/

else {
//let unv = document.createElement('div');
//unv.setAttribute("class", "htt");
unv.innerHTML+=`
												<div class="card" id="cd" title=${change.doc.data().Uid} onclick="send(title)">
												<article>${change.doc.data().Written_By}</article>
								<!--	<hr class="line">-->
									<p class="wrote">${change.doc.data().Wrote}</p>
									<br>
									<br>
									<p class="time">${change.doc.data().Time}</p>
									</div>
									`	;								document.getElementById("dome").appendChild(unv);					
			//let s = document.createElement("div");
			s.setAttribute("class","gapleft");
			s.innerHTML+=`<br><br><br><br>`;		    document.getElementById("dome").appendChild(s);				
									
		/*	let d = 	document.createElement("div");
			d.setAttribute("class","receiverSp");
			d.innerHTML+=`<p class="wrote">${change.doc.data().Wrote}</p>
			<br><br>
			<p class="time">${change.doc.data().Time}</p>`; 
			document.getElementById("home").appendChild(d);*/
						//	createSpacew();
							//scroll();
							 
}

const myuid = document.getElementById("Uival").value;

let ms = myuid.toString();

const Userv = collection(db, ms);
//const qu = (dataRef, orderBy("Time"));
onSnapshot(Userv, (snap) =>{
//querySnapshot.then((verify)=> {
snap.docChanges().forEach(info => {

if(info.doc.data().Userid==myuid) 
{

}
else if(change.doc.data().Uid==info.doc.data().Userid) 
{
				unv.remove();
				s.remove();
}
else if(change.doc.data().Uid==info.doc.data().From)
{
				unv.remove();
				s.remove();
				/*remove this condition if throws error*/
}

			
});

});

if (unv)
{
				//scroll();
}

var colourIsLight = function (r, g, b) {
  
  // Counting the perceptive luminance
  // human eye favors green color... 
  var a = 1 - (0.299 * r + 0.587 * g + 0.114 * b) / 255;
  return (a < 0.5);
}

var randomRgb = function () {
  var r = /* 189; //*/ Math.floor(Math.random() * 256);
  var g = /*60; //*/ Math.floor(Math.random() * 256);
  var b = /*151; //*/ Math.floor(Math.random() * 256);
  return [r, g, b];
};

var colourFromRgb = function (r, g, b) {
  return 'rgb(' + r + ',' + g + ',' + b + ')';
};
  
  var bgRgb = randomRgb();
  var bgColour = colourFromRgb(bgRgb[0], bgRgb[1], bgRgb[2]);
  var textColour = colourIsLight(bgRgb[0], bgRgb[1], bgRgb[2]) ? 'black' : 'white';
  
  //el.setAttribute('style', 'background-color: ' + bgColour + '; color: ' + textColour);
  

/*var p = document.querySelector("#cd");
var c = p.querySelector(':nth-child(2)');
c.style.color="blue";*/

/*let children = document.querySelector("#cd");
children.forEach(child => {
  child.style.color = "red";
})*/



if(change.doc.data().Uid==myuid)
{
				unv.setAttribute("class", "sender");
				dnv.setAttribute("class", "Sendericonbox");
				
			dnv.innerHTML+=`<div class="senderpic" title=${change.doc.data().Uid} id="prof" onclick="" style="background: url(${change.doc.data().PhotoUrl}); background-size: cover;"></div>`;
			unv.innerHTML+=`<div class="right-in"></div>`;
			unv.appendChild(dnv);



			/*dnv.innerHTML+=`<div class="senderpic" title=${change.doc.data().Uid} id="prof" onclick="alert(title)"></div>`;
			unv.innerHTML+=`<div class="right-in"></div>`;
			unv.appendChild(dnv);*/

							
/*$('#prof').css({'background-image':'url(Egypt.gif)'});	*)
							
/*unv.setAttribute('style', 'color: ' + textColour);*/

//var p = document.getElementById("cd");
//var c = p.getElementsByTagName("p")[0];

//c.style.color="blue";

}
else
{
				unv.setAttribute("class", "receiver");
				dnv.setAttribute("class", "Receivericonbox");

				dnv.innerHTML+=`<div class="receiverpic" id="prof" title=${change.doc.data().Uid} onclick="profile(title)" style="background: url(${change.doc.data().PhotoUrl}); background-size: cover;"></div>`;
				unv.innerHTML+=`<div class="left-in"></div>`;
				unv.appendChild(dnv);
				
				/*dnv.innerHTML+=`<div class="receiverpic" id="prof" title=${change.doc.data().Uid} onclick="alert(title)"></div>`;
				unv.innerHTML+=`<div class="left-in"></div>`;
				unv.appendChild(dnv);*/
				
/*var p = document.getElementById("cd");
var c = p.getElementsByTagName("p")[0];

c.style.color="red";*/

}

if(change.doc.data().Bot=="Yes")
{
				unv.setAttribute("class", "htt2");			
}

/*if(change.doc.data().Written_By=="Receiver")
{
		unv.setAttribute('style', 'background: blue');
}*/


//renderS(doc);
})


})
})


})



}//)  /* remove ")" for old working */


//}) /* remove both for old working */
//}  /* remove for old working */

/* Country db ended*/



/* Country db testing*/

async function showUSA(){

let ucountry = document.getElementById("Ucountval").value;

const dataRef = collection(db, "USA");
//const qu = (dataRef, orderBy("Time"));
onSnapshot(dataRef, (snap) =>{
//querySnapshot.then((snap)=> {
snap.docChanges().forEach(change => {

/*const dataRef = collection(db, 'Userpref');
//const qu = (dataRef, orderBy("Time"));
onSnapshot(dataRef, (snap) =>{
//querySnapshot.then((snap)=> {
snap.docChanges().forEach(verify => {*/

let msg = document. getElementById("cmsginput");

let unv = document.createElement("div");
unv.setAttribute("class", "htt");

let dv = document.createElement('div');
dv.setAttribute("class", "htt");

let dnv = document.createElement("div");
dnv.setAttribute("class", "htt");

/*var isimverified = document.getElementById("Uverified").value;*/

//let type = change.type
								
									/*test*/
							if(change.doc.data().Uid==verify.doc.data().Userid){
							unv.innerHTML+=`					
				<div class="card" id="cd">
						      <article>${change.doc.data().Written_By}             &nbsp<img class="verified" src="https://img.icons8.com/color/48/000000/verified-badge.png"/></article>
								<!--	<hr class="line">-->
									<p class="wrote">${change.doc.data().Wrote}</p>
									<br>
									<br>
									<p class="time">${change.doc.data().Time}</p>
									</div>`	;																							document.getElementById("dome").appendChild(unv)	;																				
			let s = document.createElement("div");
			s.setAttribute("class","gapright");
			s.innerHTML+=`<br><br><br><br>`;			document.getElementById("dome").appendChild(s);
				
				
		/*	let d = 	document.createElement("div");
			d.setAttribute("class","senderSp");
			d.innerHTML+=`<p class="wrote">${change.doc.data().Wrote}</p>
			<br><br>
		<p class="time">${change.doc.data().Time}</p>`;
			document.getElementById("home").appendChild(d);*/
							 //createSpacew();
							//scroll();
}

/*if(change.doc.data().Written_By=="Aman")
{
				unv.setAttribute("class", "sender");
}*/

else {
//let unv = document.createElement('div');
//unv.setAttribute("class", "htt");
unv.innerHTML+=`
												<div class="card" id="cd">
												<article>${change.doc.data().Written_By}</article>
								<!--	<hr class="line">-->
									<p class="wrote">${change.doc.data().Wrote}</p>
									<br>
									<br>
									<p class="time">${change.doc.data().Time}</p>
									</div>
									`	;								document.getElementById("dome").appendChild(unv);					
			let s = document.createElement("div");
			s.setAttribute("class","gapleft");
			s.innerHTML+=`<br><br><br><br>`;		    document.getElementById("dome").appendChild(s);				
									
		/*	let d = 	document.createElement("div");
			d.setAttribute("class","receiverSp");
			d.innerHTML+=`<p class="wrote">${change.doc.data().Wrote}</p>
			<br><br>
			<p class="time">${change.doc.data().Time}</p>`;
			document.getElementById("home").appendChild(d);*/
						//	createSpacew();
							//scroll();
							 
}
const myuid = document.getElementById("Uival").value;

if (unv)
{
				//scroll();
}

var colourIsLight = function (r, g, b) {
  
  // Counting the perceptive luminance
  // human eye favors green color... 
  var a = 1 - (0.299 * r + 0.587 * g + 0.114 * b) / 255;
  return (a < 0.5);
}

var randomRgb = function () {
  var r = /* 189; //*/ Math.floor(Math.random() * 256);
  var g = /*60; //*/ Math.floor(Math.random() * 256);
  var b = /*151; //*/ Math.floor(Math.random() * 256);
  return [r, g, b];
};

var colourFromRgb = function (r, g, b) {
  return 'rgb(' + r + ',' + g + ',' + b + ')';
};
  
  var bgRgb = randomRgb();
  var bgColour = colourFromRgb(bgRgb[0], bgRgb[1], bgRgb[2]);
  var textColour = colourIsLight(bgRgb[0], bgRgb[1], bgRgb[2]) ? 'black' : 'white';
  
  //el.setAttribute('style', 'background-color: ' + bgColour + '; color: ' + textColour);
  

/*var p = document.querySelector("#cd");
var c = p.querySelector(':nth-child(2)');
c.style.color="blue";*/

/*let children = document.querySelector("#cd");
children.forEach(child => {
  child.style.color = "red";
})*/




if(change.doc.data().Uid==myuid)
{
				unv.setAttribute("class", "sender");
				unv.innerHTML+=`<div class="SenderPfp" id="prof"></div><div class="right-in"></div>`;
							
/*unv.setAttribute('style', 'color: ' + textColour);*/

//var p = document.getElementById("cd");
//var c = p.getElementsByTagName("p")[0];

//c.style.color="blue";

}
else
{
				unv.setAttribute("class", "receiver");
				unv.innerHTML+=`<div class="ReceiverPfp" id="prof"></div><div class="left-in"></div>`;
				
/*var p = document.getElementById("cd");
var c = p.getElementsByTagName("p")[0];

c.style.color="red";*/

}

if(change.doc.data().Bot=="Yes")
{
				unv.setAttribute("class", "htt2");			
}

/*if(change.doc.data().Written_By=="Receiver")
{
		unv.setAttribute('style', 'background: blue');
}*/


//renderS(doc);
})
})

}//)  /* remove ")" for old working */


//}) /* remove both for old working */
//}  /* remove for old working */



/* Country db ended*/

/*const querySnapshot = await getDocs(q);
querySnapshot.forEach((doc) => {
  // doc.data() is never undefined for query doc snapshots
  console.log(doc.id, " => ", doc.data());
});*/
</script>




<script>
function Refresh()
{
				location.reload();
			//	OpenTab(event, 'prom');
}
				

/*var header = document.getElementsByClassName("header");
var btns = document.getElementsByClassName("btn");
for (var i = 0; i < btns.length; i++) {
  btns[i].addEventListener("click", function() {
  var current = document.getElementsByClassName("active");
  current[0].className = current[0].className.replace(" active", "");
  this.className += " active";
  
  });
}	 */


function OpenTab(evt, tabName)
{		
var i;
var tabcontent = document.getElementsByClassName("tabcontent");
for(i=0; i < tabcontent.length; i++) {
				tabcontent[i].style.display="none";
}	document.getElementById(tabName).style.display="block";
						
}

/*function OpenTab(evt, tabName)
{		
tabcontent = document.getElementsByClassName("tabcontent");
for(i=0; i < tabcontent.length; i++) {
				tabcontent[i].style.display="none";
				}	document.getElementById(tabName).style.display="block";
}*/

function openTab(evt, tabName) {
var i, tabcontent, btns;
tabcontent = document.getElementsByClassName("tabcontent");
for(i=0; i < tabcontent.length; i++) {
				tabcontent[i].style.display="none";
}
btns = document.getElementsByClassName("btn");
for(i =0; i < btns.length; i++) {
				btns[i].className = btns[i].className.replace(" active", "");
}
document.getElementById(tabName).style.display="block";
  evt.currentTarget.classList.toggle("active");
}

/*function openTab(evt, tabName) {
  var i, tabcontent, tablinks;
  tabcontent = document.getElementsByClassName("tabcontent");
  for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
  }
  tablinks = document.getElementsByClassName("btn");
  for (i = 0; i < tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
  }
  document.getElementById(tabName).style.display="block"
  evt.currentTarget.className += " active";
} */

    
function OpenSignUpTab()
{
				OpenTab(event, 'rome');
}

function OpenSignInTab()
{
				OpenTab(event, 'send');
}

/*function hidebottombar()
{
var banner = $('.header')
banner.addClass('barhide');
}*/

function hidebottombar()
{				document.getElementById("header").style.visibility = "hidden";
}

function showbottombar()
{ 
document.getElementById("header").style.visibility = "visible";
}

function cbrhide()
{
document.getElementById("cbar").style.visibility = "hidden";
}
function cbrshow()
{
document.getElementById("cbar").style.visibility = "visible";
}

function hidetopnav()
{
document.getElementById("topbar").style.visibility = "hidden";
}
function showtopnav()
{
document.getElementById("topbar").style.visibility = "visible";
}

function openuser()
{				document.getElementById("header").style.visibility = "hidden";
document.getElementById("cbar").style.visibility = "hidden";
document.getElementById("topbar").style.visibility = "hidden";
document.getElementById("kctitle").innerHTML="Profile";
/*document.getElementById("fnav").style.background="black";*/
document.getElementById("tbar").style.visibility = "hidden";

setTimeout(localStorage.removeItem('Myid'),2000);
setTimeout(localStorage.removeItem('Yourid'),2000);
}

function openchat()
{				document.getElementById("header").style.visibility = "visible";
document.getElementById("header").style.visibility = "visible";
document.getElementById("cbar").style.visibility = "hidden";
document.getElementById("topbar").style.visibility = "visible";
document.getElementById("kctitle").innerHTML="Chat";
}

function props()
{				document.getElementById("tbar").style.visibility = "visible";
document.getElementById("header").style.visibility = "hidden";
}

function bprops()
{				document.getElementById("header").style.visibility = "visible";
document.getElementById("cbar").style.visibility = "hidden";
document.getElementById("tbar").style.visibility = "hidden";
}

function ibprops()
{			document.getElementById("header").style.visibility = "hidden";
document.getElementById("tbar").style.visibility = "hidden";
document.getElementById("cbar").style.visibility = "hidden";
}

function boxclose()
{
var modal = document.getElementById("Modal");
modal.classList.toggle('showmodal');
}


function op(title){
				this.title=title;
				var t= this.title;
				/*OpenTab(event, 'vprof');*/
				document.getElementById("Poptions").classList.toggle('showmodal');	
				
let myuid = document.getElementById("Uival").value;			

				var md = myuid.slice(25);
				var td = t.slice(25);
				
				var mj = md + td;
				var tj = td + md;
	document.getElementById("cmid").value=mj;
	document.getElementById("ymid").value=tj;

				
	
				/*var my = myuid.slice(25);
				var ttid = t.slice(25);

localStorage.setItem('tagid', ttid);

var Mid =  my + ttid;
var Yid = ttid + my;					

localStorage.setItem('Myid', Mid);
localStorage.setItem('Yourid', Yid);*/
return;

}




/*function cbrhide()
{
var banner = $('.cbr')
banner.addClass('barhide');
}
function cbrshow()
{
var banner = $('.cbr')
banner.removeClass('barhide');
}*/

function openAnimModal()
{
var modal = document.getElementById("Modal");
modal.classList.toggle('showmodal');
}

function openfiltermodal()
{
var modal = document.getElementById("filter-modal");
modal.classList.toggle('showmodal');
}

function enable()
{
				var t = document.getElementById("to");
				t.disabled == false;
}



function send(title)
{
				this.title=title;
				var t= this.title;
						document.getElementById("Options").classList.toggle('showmodal');	
					localStorage.setItem('Block', t);
					return t;
}				


let uname = document.getElementById("Uval").value;
let key = Math.random();

function Block()
{
				var id = send(title);				
				alert(id+"blocked");
				
				/*setDoc(doc(db, 'UserPref',uname+key),{
								Userid: id								
				});*/				
}

function copy(title)
{
				var enm = title;
				localStorage.setItem("enemyid", enm);
				
				OpenTab(event, 'empv');
				dmail();
				document.getElementById("ibar").style.visibility = "visible";
document.getElementById("vpnav").style.visibility = "hidden";
document.getElementById("vcnav").style.visibility = "visible";				
document.getElementById("inbnav").style.visibility = "hidden";
}



var s = 1;
   function check(){
       o = document.getElementById('enable');
       if(o.value=='Y'){
           s++;
           if(s%2==0)
           $('#to').prop('disabled',true);
           else
           $('#to').prop('disabled',false);
           
       }
       
   }






function openEvent(evt, tabName) {
var i, tabcontent, btns;
tabcontent = document.getElementsByClassName("tabcontent");
for(i=0; i < tabcontent.length; i++) {
				tabcontent[i].style.display="none";
}
btns = document.getElementsByClassName("buttons");
for(i =0; i < btns.length; i++) {
				btns[i].className = btns[i].className.replace(" active", "");
}
document.getElementById(tabName).style.display="block";
  evt.currentTarget.classList.toggle("active");
}


  
  

  
  


 

  
												
											
								
								
								
								



     


   
    
    

/*
tabHeader.getElementsByClassName("active")[0].classList.remove("active");
    tabsPane[i].classList.add("active");
    tabBody.getElementsByClassName("first")[0].classList.remove("active");
    tabBody.getElementsByTagName("div")[i].classList.add("active");

*/



						</script>
						
					<!--<script>
										area=document.getElementById("write");
										document.getElementById("pst").addEventListener("click", function posted(){
		  	act=document.getElementById("home");
									<!--	function posted(){-->
										<!--var gt = document.getElementById("write").value;
									
										var crt = document.createElement("div");
									/*	crt.setAttribute("class", "htt");
										crt.innerHTML=gt;
										/*act.appendChild(crt)+"<br>";*/
										
										var obj = {"nissan":gt};

localStorage.setItem('myStorage', JSON.stringify(obj));
										
										
										
								});
								var obj = JSON.parse(localStorage.getItem('myStorage'));
let w = obj.nissan;
console.log(w);


var crt = document.createElement("div");
crt.setAttribute("class", "htt");
crt.innerHTML=w;
document.getElementById("home").appendChild(crt);
theunbelievables&#1109;				
&#1040;man	
							
								
						
						</script>-->
						
						<script>
										$('#name').on('keypress keyup keydown', function () { 
  if ($('#name').val() == "" ) { 
    $('#pst').prop('disabled', true); 
  } 
  else {   
    $('#pst').prop('disabled', false); 
  } 
});
$('#name').on('keypress keyup keydown', function () { 
  if ($('#name').val() == "" ) { 
  				if ($('#write').val() == "" ) { 
    $('#pst').prop('disabled', true); 
  } 
  else {   
    $('#pst').prop('disabled', false); 
  } 
}
});

$('#write').on('keypress keyup keydown', function () { 
  if ($('#write').val() == "" ) { 
  				if ($('#name').val() == "" ) { 
    $('#pst').prop('disabled', true); 
  } 
  else {   
    $('#pst').prop('disabled', false); 
  } 
}
});
$('#write').on('keypress keyup keydown', function () { 
  if ($('#write').val() == "" ) { 
    $('#pst').prop('disabled', true); 
  } 
  else {   
    $('#pst').prop('disabled', false); 
  } 
});





if ($('#name').val() == "" ) { 
    $('#pst').prop('disabled', true); 
  } 
  else {   
    $('#pst').prop('disabled', false); 
    }
    
    
if ($('#write').val() == "" ) { 
    $('#pst').prop('disabled', true); 
  } 
  else {   
    $('#pst').prop('disabled', false); 
    }
    
    /* Angular */
    
    


    
    

						</script>
</body>
</html>
